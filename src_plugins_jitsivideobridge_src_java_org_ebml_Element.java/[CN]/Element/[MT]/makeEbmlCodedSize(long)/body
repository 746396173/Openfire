{
  int len=codedSizeLength(size);
  byte[] ret=new byte[len];
  long mask=0x00000000000000FFL;
  for (int i=0; i < len; i++) {
    ret[len - 1 - i]=(byte)((size & mask) >>> (i * 8));
    mask<<=8;
  }
  ret[0]|=0x80 >> (len - 1);
  return ret;
}
