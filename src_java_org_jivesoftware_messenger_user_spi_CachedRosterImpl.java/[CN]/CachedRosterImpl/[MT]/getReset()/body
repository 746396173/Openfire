{
  Roster roster=new Roster();
  Iterator items=getRosterItems();
  while (items.hasNext()) {
    RosterItem item=(RosterItem)items.next();
    if (item.getSubStatus() != RosterItem.SUB_NONE || item.getAskStatus() != RosterItem.ASK_NONE) {
      roster.addItem(item.getJid(),item.getNickname(),Roster.Ask.valueOf(item.getAskStatus().getName()),Roster.Subscription.valueOf(item.getSubStatus().getName()),item.getGroups());
    }
  }
  return roster;
}
