{
  if (!this.isLoggedIn()) {
    try {
      msnManager.signIn(registration.getUsername(),registration.getPassword(),((MSNTransport)getTransport()).convertJabStatusToMSN(presenceType));
      Presence p=new Presence();
      p.setTo(getJID());
      p.setFrom(getTransport().getJID());
      getTransport().sendPacket(p);
      msnManager.setStatus(ContactStatus.ONLINE);
      msnManager.setPrivacyMode(true);
      msnManager.setReverseListBehaviour(true);
    }
 catch (    MSNException e) {
      Log.error("MSN exception thrown while logging in:",e);
    }
  }
}
