{
  try {
    msnManager.signOut();
    Presence p=new Presence(Presence.Type.unavailable);
    p.setTo(getJID());
    p.setFrom(getTransport().getJID());
    getTransport().sendPacket(p);
  }
 catch (  MSNException e) {
    Log.error("MSN exception thrown while logging out:",e);
  }
}
