{
  clusteringStarted=false;
  try {
    cacheFactoryStrategy=(CacheFactoryStrategy)Class.forName(clusteredCacheFactoryClass,true,getClusteredCacheStrategyClassLoader("enterprise")).newInstance();
    clusteringStarted=cacheFactoryStrategy.startCluster();
  }
 catch (  Exception e) {
    Log.error("Unable to start clustering - continuing in local mode",e);
  }
  if (!clusteringStarted) {
    try {
      cacheFactoryStrategy=(CacheFactoryStrategy)Class.forName(localCacheFactoryClass).newInstance();
    }
 catch (    Exception e) {
      Log.error("Fatal error - Failed to join the cluster and failed to use local cache",e);
    }
  }
}
