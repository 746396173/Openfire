{
  try {
    SocketReader reader;
    String threadName;
    if (serverPort.isClientPort()) {
      SocketConnection conn=new SocketConnection(deliverer,sock,isSecure);
      reader=new ClientSocketReader(router,serverName,sock,conn);
      threadName="Client SR - " + reader.hashCode();
    }
 else     if (serverPort.isComponentPort()) {
      SocketConnection conn=new SocketConnection(deliverer,sock,isSecure);
      reader=new ComponentSocketReader(router,serverName,sock,conn);
      threadName="Component SR - " + reader.hashCode();
    }
 else     if (serverPort.isServerPort()) {
      SocketConnection conn=new SocketConnection(deliverer,sock,isSecure);
      reader=new ServerSocketReader(router,serverName,sock,conn);
      threadName="Server SR - " + reader.hashCode();
    }
 else {
      SocketConnection conn=new SocketConnection(new MultiplexerPacketDeliverer(),sock,isSecure);
      reader=new ConnectionMultiplexerSocketReader(router,serverName,sock,conn);
      threadName="ConnectionMultiplexer SR - " + reader.hashCode();
    }
    Thread thread=new Thread(reader,threadName);
    thread.setDaemon(true);
    thread.setPriority(Thread.NORM_PRIORITY);
    thread.start();
  }
 catch (  IOException e) {
    Log.error(LocaleUtils.getLocalizedString("admin.error"),e);
  }
}
