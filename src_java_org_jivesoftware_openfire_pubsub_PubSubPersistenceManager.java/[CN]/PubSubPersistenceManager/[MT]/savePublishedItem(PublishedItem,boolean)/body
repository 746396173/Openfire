{
  String itemKey=item.getItemKey();
  itemCache.put(itemKey,item);
  log.debug("Added new (inbound) item to cache");
synchronized (itemsPending) {
    LinkedListNode itemToReplace=itemsPending.remove(itemKey);
    if (itemToReplace != null) {
      itemToReplace.remove();
    }
    LinkedListNode listNode=isRetry ? itemsToAdd.addFirst(item) : itemsToAdd.addLast(item);
    itemsPending.put(itemKey,listNode);
  }
  if (!isRetry && itemsPending.size() > MAX_ITEMS_FLUSH) {
    TaskEngine.getInstance().submit(new Runnable(){
      public void run(){
        flushPendingItems(false);
      }
    }
);
  }
}
