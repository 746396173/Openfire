{
  String resource=message.getTo().getResource();
  MUCRole occupant=occupants.get(resource.toLowerCase());
  if (occupant != null) {
    message.setFrom(senderRole.getRoleAddress());
    message.setTo(occupant.getChatUser().getAddress());
    router.route(message);
  }
 else {
    throw new NotFoundException();
  }
}
