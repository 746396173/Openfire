{
  if (MUCRole.OWNER != senderRole.getAffiliation()) {
    throw new ForbiddenException();
  }
  if (isLocked()) {
    return;
  }
  setLocked(true);
  if (senderRole.getChatUser() != null) {
    Message message=new Message();
    message.setType(Message.Type.groupchat);
    message.setBody(LocaleUtils.getLocalizedString("muc.locked"));
    message.setFrom(getRole().getRoleAddress());
    senderRole.send(message);
  }
}
