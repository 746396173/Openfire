{
  if ((canOccupantsChangeSubject() && role.getRole() < MUCRole.VISITOR) || MUCRole.MODERATOR == role.getRole()) {
    if (packet.getSubject().equals(subject)) {
      return;
    }
    subject=packet.getSubject();
    MUCPersistenceManager.updateRoomSubject(this,subject);
    packet.setFrom(role.getRoleAddress());
    send(packet);
  }
 else {
    throw new ForbiddenException();
  }
}
