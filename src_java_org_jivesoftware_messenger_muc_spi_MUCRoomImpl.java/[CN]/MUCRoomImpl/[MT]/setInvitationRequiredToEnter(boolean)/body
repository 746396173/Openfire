{
  List<Presence> presences=new ArrayList<Presence>();
  if (invitationRequiredToEnter && !this.invitationRequiredToEnter) {
    for (    MUCRole occupant : occupants.values()) {
      if (occupant.getAffiliation() > MUCRole.MEMBER) {
        presences.add(kickOccupant(jid,null,LocaleUtils.getLocalizedString("muc.roomIsNowMembersOnly")));
      }
    }
  }
  this.invitationRequiredToEnter=invitationRequiredToEnter;
  return presences;
}
