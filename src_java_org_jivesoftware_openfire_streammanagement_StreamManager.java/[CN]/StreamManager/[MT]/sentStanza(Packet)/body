{
  if (isEnabled()) {
synchronized (this) {
      incrementServerSentStanzas();
      unacknowledgedServerStanzas.addLast(new StreamManager.UnackedPacket(new Date(),packet.createCopy()));
      Log.debug("Added stanza of type {}, now {} / {}",packet.getClass().getName(),getServerSentStanzas(),unacknowledgedServerStanzas.size());
    }
    if (getServerSentStanzas() % JiveGlobals.getLongProperty("stream.management.requestFrequency",5) == 0) {
      sendServerRequest();
    }
  }
}
