{
  Color backgroundColor=getBackgroundColor();
  IntervalXYDataset dataset=(IntervalXYDataset)populateData(key,def,startTime,endTime,dataPoints);
  JFreeChart chart=ChartFactory.createXYBarChart(null,null,true,null,dataset,PlotOrientation.VERTICAL,false,false,false);
  chart.setBackgroundPaint(backgroundColor);
  chart.setBorderVisible(false);
  chart.setBorderPaint(null);
  XYPlot plot=(XYPlot)chart.getPlot();
  plot.setDomainGridlinesVisible(false);
  plot.setDomainCrosshairVisible(false);
  plot.setRangeCrosshairVisible(false);
  plot.setBackgroundPaint(backgroundColor);
  plot.setRangeGridlinesVisible(false);
  GraphDefinition graphDef=GraphDefinition.getDefinition(color);
  Color plotColor=graphDef.getInlineColor(0);
  plot.getRenderer().setSeriesPaint(0,plotColor);
  plot.getRenderer().setBaseItemLabelsVisible(false);
  plot.getRenderer().setBaseOutlinePaint(backgroundColor);
  plot.setOutlineStroke(null);
  plot.setDomainGridlinePaint(null);
  ValueAxis xAxis=chart.getXYPlot().getDomainAxis();
  xAxis.setLabel(null);
  xAxis.setTickLabelsVisible(true);
  xAxis.setTickMarksVisible(true);
  xAxis.setAxisLineVisible(false);
  xAxis.setNegativeArrowVisible(false);
  xAxis.setPositiveArrowVisible(false);
  xAxis.setVisible(false);
  ValueAxis yAxis=chart.getXYPlot().getRangeAxis();
  yAxis.setTickLabelsVisible(false);
  yAxis.setTickMarksVisible(false);
  yAxis.setAxisLineVisible(false);
  yAxis.setNegativeArrowVisible(false);
  yAxis.setPositiveArrowVisible(false);
  yAxis.setVisible(false);
  return chart;
}
