{
synchronized (this) {
    if (isClosed) {
      throw new HttpConnectionClosedException("The http connection is no longer " + "available to deliver content");
    }
 else {
      isClosed=true;
    }
  }
  if (body == null) {
    body=CONNECTION_CLOSED;
  }
  if (continuation != null && continuation.isSuspended()) {
    continuation.setAttribute("response-body",body);
    continuation.resume();
    session.incrementServerPacketCount();
  }
 else {
    this.body=body;
  }
}
