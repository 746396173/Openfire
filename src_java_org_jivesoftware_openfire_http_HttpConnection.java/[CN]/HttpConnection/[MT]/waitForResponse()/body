{
  if (!Boolean.TRUE.equals(continuation.getAttribute(SUSPENDED))) {
    continuation.setTimeout(session.getWait() * JiveConstants.SECOND);
    continuation.suspend();
    continuation.setAttribute(SUSPENDED,Boolean.TRUE);
    continuation.undispatch();
  }
  if (continuation.isResumed()) {
    String deliverable=(String)continuation.getAttribute("response-body");
    this.isDelivered=true;
    if (deliverable == null) {
      throw new HttpBindTimeoutException();
    }
 else     if (CONNECTION_CLOSED.equals(deliverable)) {
      return null;
    }
    return deliverable;
  }
  this.isDelivered=true;
  throw new HttpBindTimeoutException("Request " + requestId + " exceeded response time from "+ "server of "+ session.getWait()+ " seconds.");
}
