{
  this.pluginDirectory=pluginDirectory;
  this.pluginManager=manager;
  picoContainer.start();
  transports=new Hashtable<String,TransportInstance>();
  ComponentManager componentManager=ComponentManagerFactory.getComponentManager();
  transports.put("aim",new TransportInstance(TransportType.aim,LocaleUtils.getLocalizedString("gateway.aim.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.oscar.OSCARTransport",componentManager));
  maybeStartService("aim");
  transports.put("icq",new TransportInstance(TransportType.icq,LocaleUtils.getLocalizedString("gateway.icq.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.oscar.OSCARTransport",componentManager));
  maybeStartService("icq");
  transports.put("irc",new TransportInstance(TransportType.irc,LocaleUtils.getLocalizedString("gateway.irc.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.irc.IRCTransport",componentManager));
  maybeStartService("irc");
  transports.put("yahoo",new TransportInstance(TransportType.yahoo,LocaleUtils.getLocalizedString("gateway.yahoo.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.yahoo.YahooTransport",componentManager));
  maybeStartService("yahoo");
  transports.put("msn",new TransportInstance(TransportType.msn,LocaleUtils.getLocalizedString("gateway.msn.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.msn.MSNTransport",componentManager));
  maybeStartService("msn");
  transports.put("xmpp",new TransportInstance(TransportType.xmpp,LocaleUtils.getLocalizedString("gateway.xmpp.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.xmpp.XMPPTransport",componentManager));
  maybeStartService("xmpp");
  transports.put("gtalk",new TransportInstance(TransportType.gtalk,LocaleUtils.getLocalizedString("gateway.gtalk.name","gateway"),"org.jivesoftware.openfire.gateway.protocols.xmpp.XMPPTransport",componentManager));
  maybeStartService("gtalk");
}
