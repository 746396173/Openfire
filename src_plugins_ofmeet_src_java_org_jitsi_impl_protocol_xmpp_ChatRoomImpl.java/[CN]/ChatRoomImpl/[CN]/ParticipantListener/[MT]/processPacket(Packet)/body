{
  if (packet == null || !(packet instanceof Presence) || packet.getError() != null) {
    logger.warn("Unable to handle packet: " + packet);
    return;
  }
  Presence presence=(Presence)packet;
  String ourOccupantJid=muc.getRoom() + "/" + muc.getNickname();
  if (logger.isDebugEnabled()) {
    logger.debug("Presence received " + presence.toXML());
  }
  if (ourOccupantJid.equals(presence.getFrom()))   processOwnPresence(presence);
 else   processOtherPresence(presence);
}
