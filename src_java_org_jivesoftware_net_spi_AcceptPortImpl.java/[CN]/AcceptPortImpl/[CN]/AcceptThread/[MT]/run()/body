{
  running=true;
  while (running) {
    try {
      SocketChannel socket=server.accept();
      Connection conn=new SocketChannelConnection(socket);
      acceptMonitor.addSample(conn);
      if (policy.evaluate(conn)) {
        conManager.addConnection(conn);
        connectMonitor.addSample(conn);
      }
 else {
        disconnectMonitor.addSample(conn);
      }
    }
 catch (    ClosedChannelException ce) {
      startTime=-1;
      running=false;
    }
catch (    NotYetBoundException ce) {
      throw new IllegalStateException("Must init thread before running");
    }
catch (    IOException e) {
      Log.error(e);
    }
  }
}
