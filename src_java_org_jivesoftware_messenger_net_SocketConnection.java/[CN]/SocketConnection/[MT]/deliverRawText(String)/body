{
  if (!isClosed()) {
    boolean errorDelivering=false;
synchronized (writer) {
      try {
        SocketSendingTracker.getInstance().socketStartedSending(this);
        writer.write(text);
        if (flashClient) {
          writer.write('\0');
        }
        writer.flush();
      }
 catch (      IOException e) {
        Log.debug("Error delivering raw text" + "\n" + this.toString(),e);
        errorDelivering=true;
      }
 finally {
        SocketSendingTracker.getInstance().socketFinishedSending(this);
      }
    }
    if (errorDelivering) {
      close();
    }
  }
}
