{
  if (socket == null) {
    throw new NullPointerException("Socket channel must be non-null");
  }
  this.secure=isSecure;
  this.auditor=auditor;
  sock=socket;
  writer=new BufferedWriter(new OutputStreamWriter(sock.getOutputStream(),charset));
  this.deliverer=deliverer;
  xmlSerializer=new XMLWriter(writer);
}
