{
  if (username == null) {
    throw new NullPointerException("Username cannot be null");
  }
  this.username=username;
  if (UserManager.getUserProvider().isNameRequired() && (name == null || name.equals(""))) {
    throw new IllegalArgumentException("Invalid or empty name specified with provider that requires name");
  }
  this.name=name;
  if (UserManager.getUserProvider().isEmailRequired() && !StringUtils.isValidEmailAddress(email)) {
    throw new IllegalArgumentException("Invalid or empty email address specified with provider that requires email address");
  }
  this.email=email;
  this.creationDate=creationDate;
  this.modificationDate=modificationDate;
}
