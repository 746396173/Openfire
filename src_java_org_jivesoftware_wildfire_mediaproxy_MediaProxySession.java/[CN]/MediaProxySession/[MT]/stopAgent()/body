{
  try {
    if (idleTimer != null) {
      idleTimer.cancel();
      idleTimer.purge();
      idleTimer=null;
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  channelAtoB.removeListener();
  channelAtoBControl.removeListener();
  channelBtoA.removeListener();
  channelBtoAControl.removeListener();
  try {
    channelAtoB.cancel();
    channelAtoBControl.cancel();
    channelBtoA.cancel();
    channelBtoAControl.cancel();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  socketA.close();
  socketAControl.close();
  socketB.close();
  socketBControl.close();
  dispatchAgentStopped();
  System.out.println("Session Stopped");
}
