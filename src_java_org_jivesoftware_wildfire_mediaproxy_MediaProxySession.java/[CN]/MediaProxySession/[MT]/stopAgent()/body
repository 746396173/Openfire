{
  try {
    if (idleTimer != null) {
      idleTimer.cancel();
      idleTimer.purge();
      idleTimer=null;
    }
  }
 catch (  Exception e) {
    Log.error(e);
  }
  try {
    if (lifeTimer != null) {
      lifeTimer.cancel();
      lifeTimer.purge();
      lifeTimer=null;
    }
  }
 catch (  Exception e) {
    Log.error(e);
  }
  channelAtoB.removeListener();
  channelAtoBControl.removeListener();
  channelBtoA.removeListener();
  channelBtoAControl.removeListener();
  try {
    channelAtoB.cancel();
    channelAtoBControl.cancel();
    channelBtoA.cancel();
    channelBtoAControl.cancel();
  }
 catch (  Exception e) {
    Log.error(e);
  }
  socketA.close();
  socketAControl.close();
  socketB.close();
  socketBControl.close();
  dispatchAgentStopped();
  Log.debug("Session Stopped");
}
