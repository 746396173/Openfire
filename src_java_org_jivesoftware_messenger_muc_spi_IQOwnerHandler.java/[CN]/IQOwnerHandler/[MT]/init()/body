{
  Element element=DocumentHelper.createElement(QName.get("query","http://jabber.org/protocol/muc#owner"));
  configurationForm=new XDataFormImpl(DataForm.TYPE_FORM);
  configurationForm.setTitle(LocaleUtils.getLocalizedString("muc.form.conf.title"));
  List params=new ArrayList();
  params.add(room.getName());
  configurationForm.addInstruction(LocaleUtils.getLocalizedString("muc.form.conf.instruction",params));
  XFormFieldImpl field=new XFormFieldImpl("FORM_TYPE");
  field.setType(FormField.TYPE_HIDDEN);
  field.addValue("http://jabber.org/protocol/muc#roomconfig");
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_roomname");
  field.setType(FormField.TYPE_TEXT_SINGLE);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_roomname"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_roomdesc");
  field.setType(FormField.TYPE_TEXT_SINGLE);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_roomdesc"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_changesubject");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_changesubject"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_maxusers");
  field.setType(FormField.TYPE_LIST_SINGLE);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_maxusers"));
  field.addOption("10","10");
  field.addOption("20","20");
  field.addOption("30","30");
  field.addOption("40","40");
  field.addOption("50","50");
  field.addOption(LocaleUtils.getLocalizedString("muc.form.conf.none"),"0");
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_presencebroadcast");
  field.setType(FormField.TYPE_LIST_MULTI);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_presencebroadcast"));
  field.addOption(LocaleUtils.getLocalizedString("muc.form.conf.moderator"),"moderator");
  field.addOption(LocaleUtils.getLocalizedString("muc.form.conf.participant"),"participant");
  field.addOption(LocaleUtils.getLocalizedString("muc.form.conf.visitor"),"visitor");
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_publicroom");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_publicroom"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_persistentroom");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_persistentroom"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_moderatedroom");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_moderatedroom"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_membersonly");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_membersonly"));
  configurationForm.addField(field);
  field=new XFormFieldImpl();
  field.setType(FormField.TYPE_FIXED);
  field.addValue(LocaleUtils.getLocalizedString("muc.form.conf.allowinvitesfixed"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_allowinvites");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_allowinvites"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_passwordprotectedroom");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_passwordprotectedroom"));
  configurationForm.addField(field);
  field=new XFormFieldImpl();
  field.setType(FormField.TYPE_FIXED);
  field.addValue(LocaleUtils.getLocalizedString("muc.form.conf.roomsecretfixed"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_roomsecret");
  field.setType(FormField.TYPE_TEXT_PRIVATE);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_roomsecret"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_whois");
  field.setType(FormField.TYPE_LIST_SINGLE);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_whois"));
  field.addOption(LocaleUtils.getLocalizedString("muc.form.conf.moderator"),"moderators");
  field.addOption(LocaleUtils.getLocalizedString("muc.form.conf.anyone"),"anyone");
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_enablelogging");
  field.setType(FormField.TYPE_BOOLEAN);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_enablelogging"));
  configurationForm.addField(field);
  field=new XFormFieldImpl();
  field.setType(FormField.TYPE_FIXED);
  field.addValue(LocaleUtils.getLocalizedString("muc.form.conf.roomadminsfixed"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_roomadmins");
  field.setType(FormField.TYPE_JID_MULTI);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_roomadmins"));
  configurationForm.addField(field);
  field=new XFormFieldImpl();
  field.setType(FormField.TYPE_FIXED);
  field.addValue(LocaleUtils.getLocalizedString("muc.form.conf.roomownersfixed"));
  configurationForm.addField(field);
  field=new XFormFieldImpl("muc#roomconfig_roomowners");
  field.setType(FormField.TYPE_JID_MULTI);
  field.setLabel(LocaleUtils.getLocalizedString("muc.form.conf.owner_roomowners"));
  configurationForm.addField(field);
  probeResult=element;
  probeResult.add(configurationForm.asXMLElement());
}
