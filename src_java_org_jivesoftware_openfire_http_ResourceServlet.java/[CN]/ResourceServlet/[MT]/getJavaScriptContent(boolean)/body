{
  StringWriter writer=new StringWriter();
  for (  String file : getJavascriptFiles()) {
    writer.write(getJavaScriptFile(file));
  }
  if (compress) {
    ByteArrayOutputStream baos=null;
    GZIPOutputStream gzos=null;
    try {
      baos=new ByteArrayOutputStream();
      gzos=new GZIPOutputStream(baos);
      gzos.write(writer.toString().getBytes());
      gzos.finish();
      gzos.flush();
      gzos.close();
      return baos.toByteArray();
    }
  finally {
      try {
        if (gzos != null) {
          gzos.close();
        }
      }
 catch (      Exception ignored) {
      }
      try {
        if (baos != null) {
          baos.close();
        }
      }
 catch (      Exception ignored) {
      }
    }
  }
 else {
    return writer.toString().getBytes();
  }
}
