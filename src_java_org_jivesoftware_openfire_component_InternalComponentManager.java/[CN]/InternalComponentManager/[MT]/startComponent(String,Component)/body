{
  JID componentJID=new JID(subdomain + "." + serverDomain);
  routingTable.addComponentRoute(componentJID,new RoutableComponent(componentJID,component));
  try {
    component.start();
    checkPresences();
    checkDiscoSupport(component,componentJID);
    Log.debug("Component registered for domain: " + subdomain);
    for (    ComponentEventListener listener : listeners) {
      listener.componentRegistered(component,componentJID);
    }
  }
 catch (  RuntimeException e) {
    routingTable.removeComponentRoute(componentJID);
    throw e;
  }
}
