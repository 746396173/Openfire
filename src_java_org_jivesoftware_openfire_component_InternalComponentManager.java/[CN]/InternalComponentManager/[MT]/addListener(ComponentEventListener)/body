{
  listeners.add(listener);
  for (  Map.Entry<String,RoutableComponents> entry : routables.entrySet()) {
    String subdomain=entry.getKey();
    RoutableComponents routable=entry.getValue();
    for (    Component component : routable.getComponents()) {
      JID componentJID=new JID(subdomain + "." + serverDomain);
      listener.componentRegistered(component,componentJID);
      IQ disco=componentInfo.get(subdomain);
      if (disco != null) {
        listener.componentInfoReceived(component,disco);
      }
    }
  }
}
