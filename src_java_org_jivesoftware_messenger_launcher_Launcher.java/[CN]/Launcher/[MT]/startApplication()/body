{
  if (messengerd == null) {
    File appDir=new File("").getAbsoluteFile();
    if (System.getProperty("app.dir") != null) {
      appDir=new File(System.getProperty("app.dir"));
    }
    try {
      File windowsExe=new File(appDir,"messengerd.exe");
      File unixExe=new File(appDir,"messengerd");
      if (windowsExe.exists()) {
        messengerd=Runtime.getRuntime().exec(new String[]{windowsExe.toString()});
      }
 else       if (unixExe.exists()) {
        messengerd=Runtime.getRuntime().exec(new String[]{unixExe.toString()});
      }
 else {
        throw new FileNotFoundException();
      }
    }
 catch (    Exception e) {
      try {
        File libDir=new File(appDir.getParentFile(),"lib").getAbsoluteFile();
        messengerd=Runtime.getRuntime().exec(new String[]{"java","-jar",new File(libDir,"startup.jar").toString()});
      }
 catch (      Exception ex) {
        ex.printStackTrace();
        JOptionPane.showMessageDialog(null,"Launcher could not start,\n" + appName,"File not found",JOptionPane.ERROR_MESSAGE);
      }
    }
  }
}
