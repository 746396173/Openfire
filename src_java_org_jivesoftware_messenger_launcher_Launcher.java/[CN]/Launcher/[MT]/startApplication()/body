{
  if (messengerd == null) {
    try {
      File windowsExe=new File(binDir,"messengerd.exe");
      File unixExe=new File(binDir,"messengerd");
      if (windowsExe.exists()) {
        messengerd=Runtime.getRuntime().exec(new String[]{windowsExe.toString()});
      }
 else       if (unixExe.exists()) {
        messengerd=Runtime.getRuntime().exec(new String[]{unixExe.toString()});
      }
 else {
        throw new FileNotFoundException();
      }
    }
 catch (    Exception e) {
      try {
        File libDir=new File(binDir.getParentFile(),"lib").getAbsoluteFile();
        messengerd=Runtime.getRuntime().exec(new String[]{"java","-jar",new File(libDir,"startup.jar").toString()});
      }
 catch (      Exception ex) {
        ex.printStackTrace();
        JOptionPane.showMessageDialog(null,"Launcher could not start,\n" + appName,"File not found",JOptionPane.ERROR_MESSAGE);
      }
    }
  }
}
