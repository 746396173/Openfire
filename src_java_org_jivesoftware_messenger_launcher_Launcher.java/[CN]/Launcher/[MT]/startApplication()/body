{
  if (messengerd == null) {
    File binDir=null;
    File libDir=null;
    File homeDir=null;
    File exe=null;
    try {
      binDir=new File("").getAbsoluteFile();
      libDir=new File("../lib").getAbsoluteFile();
      homeDir=binDir.getParentFile();
      if (libDir.exists()) {
        messengerd=Runtime.getRuntime().exec(new String[]{"java","-jar",new File(libDir,"startup.jar").toString()});
      }
 else {
        exe=new File(homeDir,"messenger.app");
        if (exe.exists()) {
          messengerd=Runtime.getRuntime().exec(new String[]{"open",exe.toString()});
        }
 else {
          exe=new File(homeDir,"messenger");
          if (exe.exists()) {
            messengerd=Runtime.getRuntime().exec(new String[]{exe.toString()});
          }
 else {
            throw new FileNotFoundException();
          }
        }
      }
    }
 catch (    Exception e) {
      try {
        if (binDir != null) {
          messengerd=Runtime.getRuntime().exec(new String[]{"java","-jar",new File(libDir,"startup.jar").toString()});
        }
 else {
          e.printStackTrace();
          JOptionPane.showMessageDialog(null,"Launcher could not locate messengerd,\nthe Jive Messenger server daemon executable","File not found",JOptionPane.ERROR_MESSAGE);
        }
      }
 catch (      Exception ex) {
        ex.printStackTrace();
        JOptionPane.showMessageDialog(null,"Launcher could not locate messengerd,\nthe Jive Messenger server daemon executable","File not found",JOptionPane.ERROR_MESSAGE);
      }
    }
  }
}
