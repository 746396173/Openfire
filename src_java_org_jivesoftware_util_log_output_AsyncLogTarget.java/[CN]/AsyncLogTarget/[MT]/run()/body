{
  boolean interupted=false;
  while (true) {
    LogEvent event=null;
synchronized (m_list) {
      while (null == event) {
        final int size=m_list.size();
        if (size > 0) {
          event=(LogEvent)m_list.removeLast();
          if (size == m_queueSize) {
            m_list.notify();
          }
        }
 else         if (interupted || Thread.interrupted()) {
          return;
        }
 else {
          try {
            m_list.wait();
          }
 catch (          final InterruptedException ie) {
            interupted=true;
          }
        }
      }
    }
    try {
      m_logTarget.processEvent(event);
    }
 catch (    final Throwable throwable) {
      getErrorHandler().error("Unknown error writing event.",throwable,event);
    }
  }
}
