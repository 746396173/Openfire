{
  if (!iqLastInterceptorEnabled()) {
    Log.debug("Auto repsonse to jabber:iq:last is deactivated. You could enabled it using the webinterface ");
    return;
  }
  if (packet instanceof IQ && incoming && processed) {
    IQ iqpacket=(IQ)packet;
    if (!iqpacket.getTo().toString().contains(_subDomain))     return;
    Element root=iqpacket.getChildElement();
    if (root == null)     return;
    String ns=root.getNamespaceURI();
    if (ns.equals("jabber:iq:last") && iqpacket.getType().equals(IQ.Type.get)) {
      IQ answer=new IQ();
      answer.setType(IQ.Type.error);
      answer.setFrom(iqpacket.getTo());
      answer.setTo(iqpacket.getFrom());
      answer.setID(iqpacket.getID());
      DefaultElement errorElement=new DefaultElement("error");
      errorElement.addAttribute("type","cancel");
      errorElement.addAttribute("code","503");
      DefaultElement serviceElement=new DefaultElement("service-unavailable");
      serviceElement.addNamespace("","urn:ietf:params:xml:ns:xmpp-stanzas");
      errorElement.add(serviceElement);
      answer.setChildElement(errorElement);
      Log.debug("Auto response to jabber:iq:last for " + _subDomain);
      PacketRouter router=XMPPServer.getInstance().getPacketRouter();
      router.route(answer);
    }
  }
}
