{
  if (presence.getUsername().equals(authToken.getUsername()) || permissions.hasPermission(Permissions.SYSTEM_ADMIN | Permissions.USER_ADMIN)) {
    presence.setVisible(visible);
  }
 else {
    throw new org.jivesoftware.messenger.auth.UnauthorizedException();
  }
}
