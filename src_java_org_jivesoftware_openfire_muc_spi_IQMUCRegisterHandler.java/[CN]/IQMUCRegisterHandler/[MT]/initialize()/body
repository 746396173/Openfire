{
  if (probeResult == null) {
    final DataForm registrationForm=new DataForm(DataForm.Type.form);
    registrationForm.setTitle(LocaleUtils.getLocalizedString("muc.form.reg.title"));
    registrationForm.addInstruction(LocaleUtils.getLocalizedString("muc.form.reg.instruction"));
    final FormField fieldForm=registrationForm.addField();
    fieldForm.setVariable("FORM_TYPE");
    fieldForm.setType(FormField.Type.hidden);
    fieldForm.addValue("http://jabber.org/protocol/muc#register");
    final FormField fieldReg=registrationForm.addField();
    fieldReg.setVariable("muc#register_first");
    fieldReg.setType(FormField.Type.text_single);
    fieldReg.setLabel(LocaleUtils.getLocalizedString("muc.form.reg.first-name"));
    fieldReg.setRequired(true);
    final FormField fieldLast=registrationForm.addField();
    fieldLast.setVariable("muc#register_last");
    fieldLast.setType(FormField.Type.text_single);
    fieldLast.setLabel(LocaleUtils.getLocalizedString("muc.form.reg.last-name"));
    fieldLast.setRequired(true);
    final FormField fieldNick=registrationForm.addField();
    fieldNick.setVariable("muc#register_roomnick");
    fieldNick.setType(FormField.Type.text_single);
    fieldNick.setLabel(LocaleUtils.getLocalizedString("muc.form.reg.nickname"));
    fieldNick.setRequired(true);
    final FormField fieldUrl=registrationForm.addField();
    fieldUrl.setVariable("muc#register_url");
    fieldUrl.setType(FormField.Type.text_single);
    fieldUrl.setLabel(LocaleUtils.getLocalizedString("muc.form.reg.url"));
    final FormField fieldMail=registrationForm.addField();
    fieldMail.setVariable("muc#register_email");
    fieldMail.setType(FormField.Type.text_single);
    fieldMail.setLabel(LocaleUtils.getLocalizedString("muc.form.reg.email"));
    final FormField fieldFaq=registrationForm.addField();
    fieldFaq.setVariable("muc#register_faqentry");
    fieldFaq.setType(FormField.Type.text_single);
    fieldFaq.setLabel(LocaleUtils.getLocalizedString("muc.form.reg.faqentry"));
    probeResult=DocumentHelper.createElement(QName.get("query","jabber:iq:register"));
    probeResult.add(registrationForm.getElement());
  }
}
