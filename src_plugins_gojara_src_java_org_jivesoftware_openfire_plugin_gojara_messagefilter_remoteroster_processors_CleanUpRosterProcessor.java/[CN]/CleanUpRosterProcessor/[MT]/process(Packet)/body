{
  if (packet instanceof IQ) {
    IQ iqPacket=(IQ)packet;
    if (findNodesInDocument(iqPacket.getElement().getDocument(),"//register:remove").size() > 0) {
      String username=getUsernameFromJid(packet.getFrom().toString());
      Roster roster;
      try {
        roster=_rosterManager.getRoster(username);
        Collection<RosterItem> items=roster.getRosterItems();
        for (        RosterItem item : items) {
          String itemName=item.getJid().toString();
          if (itemName.contains(_myDomain) && !itemName.equals(_myDomain)) {
            Log.debug("Removing contact " + username + " from contact list.");
            roster.deleteRosterItem(item.getJid(),false);
          }
        }
      }
 catch (      UserNotFoundException e) {
        Log.debug("Could not found user while cleaning up the roster in GoJara for user " + username,e);
      }
catch (      SharedGroupException e) {
      }
    }
  }
}
