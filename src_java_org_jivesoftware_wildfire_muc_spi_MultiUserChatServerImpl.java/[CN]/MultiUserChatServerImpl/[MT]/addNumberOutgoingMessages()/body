{
  Statistic statistic=new Statistic(){
    public String getKey(){
      return outgoingStatKey;
    }
    public String getName(){
      return LocaleUtils.getLocalizedString("muc.stats.outgoing.name");
    }
    public Type getStatType(){
      return Type.RATE;
    }
    public String getDescription(){
      return LocaleUtils.getLocalizedString("muc.stats.outgoing.description");
    }
    public String getUnits(){
      return LocaleUtils.getLocalizedString("muc.stats.outgoing.label");
    }
    public double sample(    long timePeriod){
      long received=outMessages.getAndSet(0);
      return received / timePeriod;
    }
  }
;
  StatisticsManager.getInstance().addStatistic(statistic);
}
