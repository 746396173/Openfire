{
  List<Element> answer=new ArrayList<Element>();
  if (name == null && node == null) {
    Element item;
    for (    MUCRoom room : rooms.values()) {
      if (canDiscoverRoom(room)) {
        item=DocumentHelper.createElement("item");
        item.addAttribute("jid",room.getRole().getRoleAddress().toString());
        item.addAttribute("name",room.getNaturalLanguageName());
        answer.add(item);
      }
    }
  }
 else   if (name != null && node == null) {
    MUCRoom room=getChatRoom(name);
    if (room != null && canDiscoverRoom(room)) {
      Element item;
      for (      MUCRole role : room.getOccupants()) {
        item=DocumentHelper.createElement("item");
        item.addAttribute("jid",role.getRoleAddress().toString());
        answer.add(item);
      }
    }
  }
  return answer.iterator();
}
