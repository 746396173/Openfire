{
  int nodeType=node.getNodeType();
switch (nodeType) {
case Node.ELEMENT_NODE:
    writeElement((Element)node,serializer,null,-1);
  break;
case Node.ATTRIBUTE_NODE:
writeAttribute((Attribute)node,serializer);
break;
case Node.TEXT_NODE:
serializer.writeCharacters(node.getText());
break;
case Node.CDATA_SECTION_NODE:
serializer.writeCData(node.getText());
break;
case Node.ENTITY_REFERENCE_NODE:
serializer.writeEntityRef(node.getName());
break;
case Node.PROCESSING_INSTRUCTION_NODE:
serializer.writeProcessingInstruction(node.getText());
break;
case Node.COMMENT_NODE:
serializer.writeComment(node.getText());
break;
case Node.DOCUMENT_NODE:
serializer.writeStartDocument();
break;
case Node.DOCUMENT_TYPE_NODE:
break;
case Node.NAMESPACE_NODE:
break;
default :
throw new XMLStreamException("Invalid node type: " + node);
}
}
