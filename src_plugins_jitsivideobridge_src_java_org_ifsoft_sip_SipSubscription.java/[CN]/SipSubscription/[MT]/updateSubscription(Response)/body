{
  ContactHeader cont=(ContactHeader)resp.getHeader(ContactHeader.NAME);
  ToHeader th=(ToHeader)resp.getHeader("To");
  FromHeader fh=(FromHeader)resp.getHeader("From");
  if (cont != null) {
    this.contact=cont.getAddress().getURI().toString();
  }
  if (this.rl.isEmpty() && resp.getStatusCode() >= 200) {
    ListIterator<?> rrl=resp.getHeaders(RecordRouteHeader.NAME);
    while (rrl.hasNext()) {
      RecordRouteHeader rrh=(RecordRouteHeader)rrl.next();
      this.rl.addFirst(rrh.getAddress());
    }
  }
  this.remoteTag=th.getTag();
  this.localTag=fh.getTag();
  try {
    SipSubscriptionManager.saveSubscription(this);
  }
 catch (  IOException e) {
    Log.error("Error persisting subscriber",e);
  }
catch (  SAXException e) {
    Log.error("Error persisting subscriber",e);
  }
}
