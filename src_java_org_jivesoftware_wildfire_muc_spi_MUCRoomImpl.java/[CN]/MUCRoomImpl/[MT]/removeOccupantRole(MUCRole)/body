{
  occupants.remove(leaveRole.getNickname().toLowerCase());
  MUCUser user=leaveRole.getChatUser();
  user.removeRole(getName());
  List list=occupantsByBareJID.get(user.getAddress().toBareJID());
  if (list != null) {
    list.remove(leaveRole);
    if (list.isEmpty()) {
      occupantsByBareJID.remove(user.getAddress().toBareJID());
    }
  }
  occupantsByFullJID.remove(user.getAddress());
}
