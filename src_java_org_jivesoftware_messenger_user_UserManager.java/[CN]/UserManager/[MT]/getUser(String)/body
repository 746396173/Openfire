{
  username=username.trim().toLowerCase();
  User user=(User)userCache.get(username);
  if (user == null) {
synchronized (username.intern()) {
      user=(User)userCache.get(username);
      if (user == null) {
        user=provider.loadUser(username);
        userCache.put(username,user);
      }
    }
  }
  return user;
}
