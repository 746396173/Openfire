{
  final Element element=iq.getChildElement();
  final String namespace=element.getNamespaceURI();
  try {
    if ("urn:xmpp:rayo:handset:1".equals(namespace)) {
      IQ reply=null;
      Object object=handsetProvider.fromXML(element);
      if (object instanceof OnHookCommand) {
        OnHookCommand command=(OnHookCommand)object;
        reply=handleOnOffHookCommand(command,iq);
      }
 else       if (object instanceof OffHookCommand) {
        OffHookCommand command=(OffHookCommand)object;
        reply=handleOnOffHookCommand(command,iq);
      }
      return reply;
    }
    if ("urn:xmpp:tropo:say:1".equals(namespace)) {
      IQ reply=null;
      Object object=sayProvider.fromXML(element);
      if (object instanceof Say) {
        reply=handleSay((Say)object,iq);
      }
 else       if (object instanceof PauseCommand) {
        reply=handlePauseCommand(true,iq);
      }
 else       if (object instanceof ResumeCommand) {
        reply=handlePauseCommand(false,iq);
      }
      return reply;
    }
    if ("urn:xmpp:rayo:1".equals(namespace)) {
      IQ reply=null;
      Object object=rayoProvider.fromXML(element);
      if (object instanceof ConnectCommand) {
      }
 else       if (object instanceof HoldCommand) {
      }
 else       if (object instanceof UnholdCommand) {
      }
 else       if (object instanceof MuteCommand) {
        reply=handleMuteCommand((MuteCommand)object,iq);
      }
 else       if (object instanceof UnmuteCommand) {
        reply=handleMuteCommand((UnmuteCommand)object,iq);
      }
 else       if (object instanceof JoinCommand) {
        reply=handleJoinCommand((JoinCommand)object,iq);
      }
 else       if (object instanceof UnjoinCommand) {
        reply=handleUnjoinCommand((UnjoinCommand)object,iq);
      }
 else       if (object instanceof AcceptCommand) {
        reply=handleAcceptCommand((AcceptCommand)object,iq);
      }
 else       if (object instanceof AnswerCommand) {
        reply=handleAnswerCommand((AnswerCommand)object,iq);
      }
 else       if (object instanceof HangupCommand) {
        reply=handleHangupCommand(iq);
      }
 else       if (object instanceof RejectCommand) {
      }
 else       if (object instanceof RedirectCommand) {
      }
 else       if (object instanceof DialCommand) {
        reply=handleDialCommand((DialCommand)object,iq);
      }
 else       if (object instanceof StopCommand) {
      }
 else       if (object instanceof DtmfCommand) {
        reply=handleDtmfCommand((DtmfCommand)object,iq);
      }
 else       if (object instanceof DestroyMixerCommand) {
      }
      return reply;
    }
    return null;
  }
 catch (  Exception e) {
    e.printStackTrace();
    final IQ reply=IQ.createResultIQ(iq);
    reply.setError(PacketError.Condition.internal_server_error);
    return reply;
  }
}
