{
  CallParticipant hp=handsetHandler.getCallParticipant();
  try {
    String mixer=hp.getConferenceId();
    ConferenceManager conferenceManager=ConferenceManager.getConference(mixer,hp.getMediaPreference(),cp.getName(),false);
    cp.setConferenceId(mixer);
    cp.setCallId(mixer);
    conferenceManager.setCallId(mixer);
    cp.setStartTimestamp(System.currentTimeMillis());
    String recording=mixer + "-" + cp.getStartTimestamp()+ ".au";
    conferenceManager.recordConference(true,recording,"au");
    Config.createCallRecord(cp.getDisplayName(),recording,cp.getPhoneNumber(),cp.getStartTimestamp(),0,"dialed");
  }
 catch (  ParseException e1) {
    reply.setError(PacketError.Condition.internal_server_error);
  }
}
