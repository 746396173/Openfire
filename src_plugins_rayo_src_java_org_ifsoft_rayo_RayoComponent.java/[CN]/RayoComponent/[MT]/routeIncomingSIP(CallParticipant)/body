{
  Log.info("Incoming SIP, call route to user " + cp.getToPhoneNumber());
  JID foundUser=findUser(cp.getToPhoneNumber());
  String callId="rayo-incoming-" + System.currentTimeMillis();
  cp.setCallId(callId);
  cp.setConferenceId(callId);
  Map<String,String> headers=cp.getHeaders();
  headers.put("mixer_name",callId);
  headers.put("call_protocol","SIP");
  if (foundUser != null) {
    routeSIPCall(foundUser,cp,callId,headers);
    return true;
  }
  try {
    Group group=GroupManager.getInstance().getGroup(cp.getToPhoneNumber());
    headers.put("group_name",cp.getToPhoneNumber());
    for (    JID memberJID : group.getMembers()) {
      Collection<ClientSession> sessions=SessionManager.getInstance().getSessions(memberJID.getNode());
      for (      ClientSession session : sessions) {
        routeSIPCall(memberJID,cp,callId,headers);
      }
    }
    return true;
  }
 catch (  GroupNotFoundException e) {
    return false;
  }
}
