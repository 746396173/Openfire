{
  if (props == null) {
    return mechs.clone();
  }
  boolean[] passed=new boolean[mechs.length];
  int count=0;
  for (int i=0; i < mechs.length; i++) {
    if (passed[i]=checkPolicy(policies[i],props)) {
      ++count;
    }
  }
  String[] answer=new String[count];
  for (int i=0, j=0; i < mechs.length; i++) {
    if (passed[i]) {
      answer[j++]=mechs[i];
    }
  }
  return answer;
}
