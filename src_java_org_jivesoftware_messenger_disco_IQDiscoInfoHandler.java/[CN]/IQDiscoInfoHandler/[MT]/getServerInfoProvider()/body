{
  DiscoInfoProvider discoInfoProvider=new DiscoInfoProvider(){
    ArrayList identities=new ArrayList();
    ArrayList features=new ArrayList();
    public Iterator getIdentities(    String name,    String node,    XMPPAddress senderJID){
synchronized (identities) {
        if (identities.isEmpty()) {
          Element identity=DocumentHelper.createElement("identity");
          identity.addAttribute("category","services");
          identity.addAttribute("name","Messenger Server");
          identity.addAttribute("type","jabber");
          identities.add(identity);
        }
      }
      return identities.iterator();
    }
    public Iterator getFeatures(    String name,    String node,    XMPPAddress senderJID){
      return serverFeatures.iterator();
    }
    public boolean hasInfo(    String name,    String node,    XMPPAddress senderJID) throws UnauthorizedException {
      return name == null && node == null;
    }
    public XDataForm getExtendedInfo(    String name,    String node,    XMPPAddress senderJID){
      return null;
    }
  }
;
  return discoInfoProvider;
}
