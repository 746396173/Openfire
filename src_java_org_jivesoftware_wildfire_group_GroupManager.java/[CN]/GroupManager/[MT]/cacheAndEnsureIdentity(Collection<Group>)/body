{
  Collection<Group> answer=new ArrayList<Group>(groups.size());
  for (  Group group : groups) {
synchronized (group.getName().intern()) {
      Group existingGroup=groupCache.get(group.getName());
      if (existingGroup == null) {
        groupCache.put(group.getName(),group);
        answer.add(group);
      }
 else {
        answer.add(existingGroup);
      }
    }
  }
  return answer;
}
