{
  if (presence.getFrom().getNode() != null) {
synchronized (onlineUsers) {
      onlineUsers.remove(presence.getFrom().getNode());
    }
  }
 else {
synchronized (onlineGuests) {
      onlineGuests.remove(presence.getID());
    }
  }
}
