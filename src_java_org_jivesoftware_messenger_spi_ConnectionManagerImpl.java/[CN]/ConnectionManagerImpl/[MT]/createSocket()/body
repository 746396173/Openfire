{
  if (!isStarted || isSocketStarted || sessionManager == null || deliverer == null || router == null || serverName == null) {
    return;
  }
  isSocketStarted=true;
  String localIPAddress=null;
  try {
    localIPAddress=InetAddress.getLocalHost().getHostAddress();
  }
 catch (  UnknownHostException e) {
    if (localIPAddress == null) {
      localIPAddress="Unknown";
    }
  }
  if (JiveGlobals.getBooleanProperty("xmpp.socket.ssl.active",true)) {
    try {
      sslSocketThread=new SSLSocketAcceptThread(this);
      String algorithm=JiveGlobals.getProperty("xmpp.socket.ssl.algorithm");
      if ("".equals(algorithm) || algorithm == null) {
        algorithm="TLS";
      }
      ports.add(new ServerPort(sslSocketThread.getPort(),serverName,localIPAddress,true,algorithm));
      sslSocketThread.setDaemon(true);
      sslSocketThread.start();
      List params=new ArrayList();
      params.add(Integer.toString(sslSocketThread.getPort()));
      Log.info(LocaleUtils.getLocalizedString("startup.ssl",params));
    }
 catch (    Exception e) {
      Log.error(LocaleUtils.getLocalizedString("admin.error.ssl"),e);
    }
  }
  if (JiveGlobals.getBooleanProperty("xmpp.socket.plain.active",true)) {
    socketThread=new SocketAcceptThread(this);
    ports.add(new ServerPort(socketThread.getPort(),serverName,localIPAddress,false,null));
    socketThread.setDaemon(true);
    socketThread.start();
    List params=new ArrayList();
    params.add(Integer.toString(socketThread.getPort()));
    Log.info(LocaleUtils.getLocalizedString("startup.plain",params));
  }
}
