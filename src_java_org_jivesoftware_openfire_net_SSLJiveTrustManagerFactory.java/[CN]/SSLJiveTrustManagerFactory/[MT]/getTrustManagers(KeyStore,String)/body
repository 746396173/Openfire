{
  TrustManager[] trustManagers;
  try {
    if (truststore == null) {
      trustManagers=null;
    }
 else {
      TrustManagerFactory trustFactory=TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
      if (trustpass == null) {
        trustpass=SSLConfig.gets2sTrustPassword();
      }
      trustFactory.init(truststore);
      trustManagers=trustFactory.getTrustManagers();
    }
  }
 catch (  KeyStoreException e) {
    trustManagers=null;
    Log.error("SSLJiveTrustManagerFactory startup problem.\n" + "  the keystore is corrupt",e);
  }
catch (  NoSuchAlgorithmException e) {
    trustManagers=null;
    Log.error("SSLJiveTrustManagerFactory startup problem.\n" + "  the keystore type doesn't exist (not provided or configured with your JVM)",e);
  }
  return trustManagers;
}
