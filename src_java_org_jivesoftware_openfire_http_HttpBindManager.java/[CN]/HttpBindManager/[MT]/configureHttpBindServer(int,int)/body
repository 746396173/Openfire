{
  httpBindServer=new Server();
  final QueuedThreadPool tp=new QueuedThreadPool(254);
  tp.setName("Jetty-QTP-BOSH");
  httpBindServer.setThreadPool(tp);
  createConnector(port);
  createSSLConnector(securePort);
  if (httpConnector == null && httpsConnector == null) {
    httpBindServer=null;
    return;
  }
  if (httpConnector != null) {
    httpBindServer.addConnector(httpConnector);
  }
  if (httpsConnector != null) {
    httpBindServer.addConnector(httpsConnector);
  }
  createBoshHandler(contexts,"/http-bind");
  createCrossDomainHandler(contexts,"/");
  loadStaticDirectory(contexts);
  HandlerCollection collection=new HandlerCollection();
  httpBindServer.setHandler(collection);
  collection.setHandlers(new Handler[]{contexts,new DefaultHandler()});
}
