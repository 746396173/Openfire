{
  if (wsSession != null && wsSession.isOpen() && !"".equals(packet.trim())) {
    try {
      Log.debug(digest + " : Delivered : \n" + packet);
      wsSession.getRemote().sendStringByFuture(packet);
    }
 catch (    Exception e) {
      Log.error("XMPPWebSocket deliver " + e);
      Log.warn(digest + " : Could not deliver : \n" + packet);
    }
  }
}
