{
  for (  Purpose purpose : Purpose.values()) {
    final String location=getLocation(purpose);
    if (!storesByLocation.containsKey(location)) {
      final CertificateStoreConfig storeConfig;
      if (purpose.isTrustStore()) {
        final boolean acceptSelfSigned=false;
        final boolean checkValidity=true;
        ;
        storeConfig=new TrustStoreConfig(getLocation(purpose),getPassword(purpose),getStoreType(purpose),false,acceptSelfSigned,checkValidity);
      }
 else {
        storeConfig=new IdentityStoreConfig(getLocation(purpose),getPassword(purpose),getStoreType(purpose),false);
      }
      storesByLocation.put(location,storeConfig);
    }
    locationByPurpose.put(purpose,location);
  }
}
