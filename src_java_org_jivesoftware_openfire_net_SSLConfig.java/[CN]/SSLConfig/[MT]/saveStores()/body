{
  try {
    File keyStoreDirectory=new File(keyStoreLocation).getParentFile();
    if (!keyStoreDirectory.exists())     keyStoreDirectory.mkdirs();
    keyStore.store(new FileOutputStream(keyStoreLocation),keypass.toCharArray());
    if (s2sTrustStore != null) {
      File s2sTrustStoreDirectory=new File(s2sTrustStoreLocation).getParentFile();
      if (!s2sTrustStoreDirectory.exists())       s2sTrustStoreDirectory.mkdirs();
      s2sTrustStore.store(new FileOutputStream(s2sTrustStoreLocation),s2sTrustpass.toCharArray());
    }
    if (c2sTrustStore != null && c2sTrustStore != s2sTrustStore) {
      File c2sTrustStoreDirectory=new File(c2sTrustStoreLocation).getParentFile();
      if (!c2sTrustStoreDirectory.exists())       c2sTrustStoreDirectory.mkdirs();
      c2sTrustStore.store(new FileOutputStream(c2sTrustStoreLocation),c2sTrustpass.toCharArray());
    }
  }
 catch (  IOException e) {
    throw e;
  }
catch (  Exception e) {
    throw new IOException(e.getMessage());
  }
}
