{
  long lastExceptionTime=0;
  int exceptionCounter=0;
  while (notTerminated) {
    try {
      Socket sock=serverSocket.accept();
      Log.debug("SSL Connect " + sock.toString());
      SocketReader reader=connManager.createSocketReader(sock,true,serverPort,true);
      Thread thread=new Thread(reader,reader.getName());
      thread.setDaemon(true);
      thread.setPriority(Thread.NORM_PRIORITY);
      thread.start();
    }
 catch (    SSLException se) {
      long exceptionTime=System.currentTimeMillis();
      if (exceptionTime - lastExceptionTime > 1000) {
        exceptionCounter=1;
      }
 else {
        exceptionCounter++;
      }
      lastExceptionTime=exceptionTime;
      Log.error(LocaleUtils.getLocalizedString("admin.error.ssl"),se);
      if (exceptionCounter > MAX_SSL_EXCEPTIONS) {
        String msg="Shutting down SSL port - " + "suspected configuration problem";
        Log.error(msg);
        Log.info(msg);
        shutdown();
      }
    }
catch (    Throwable e) {
      if (notTerminated) {
        Log.error(LocaleUtils.getLocalizedString("admin.error.ssl"),e);
      }
    }
  }
  try {
    ServerSocket sSock=serverSocket;
    serverSocket=null;
    if (sSock != null) {
      sSock.close();
    }
  }
 catch (  IOException e) {
  }
}
