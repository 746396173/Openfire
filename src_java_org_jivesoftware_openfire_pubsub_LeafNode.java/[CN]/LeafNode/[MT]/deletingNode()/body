{
synchronized (publishedItems) {
    while (!publishedItems.isEmpty()) {
      PublishedItem removedItem=publishedItems.remove(0);
      itemsByID.remove(removedItem.getID());
      service.getPubSubEngine().queueItemToRemove(removedItem);
    }
  }
}
