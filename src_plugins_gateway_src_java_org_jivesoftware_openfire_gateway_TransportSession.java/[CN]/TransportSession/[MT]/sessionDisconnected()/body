{
  reconnectionAttempts++;
  cleanUp();
  if (reconnectionAttempts > JiveGlobals.getIntProperty("plugin.gateway." + getTransport().getType() + "reconnectattempts",3)) {
    sessionDisconnectedNoReconnect();
  }
 else {
    setLoginStatus(TransportLoginStatus.RECONNECTING);
    ClientSession session=XMPPServer.getInstance().getSessionManager().getSession(getJIDWithHighestPriority());
    logIn(getTransport().getPresenceType(session.getPresence()),null);
  }
}
