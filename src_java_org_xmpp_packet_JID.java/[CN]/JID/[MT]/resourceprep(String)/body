{
  String answer=resource;
  if (!stringprepCache.containsKey(resource)) {
    answer=Stringprep.resourceprep(resource);
    if (answer != null && answer.length() * 2 > 1023) {
      return answer;
    }
    stringprepCache.put(answer,null);
  }
  return answer;
}
