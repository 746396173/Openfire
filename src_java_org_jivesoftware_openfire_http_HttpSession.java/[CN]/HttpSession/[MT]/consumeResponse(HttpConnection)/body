{
  Log.debug("consumeResponse: " + connection);
  if (connectionQueue.contains(connection)) {
    String response=getResponse(connection);
    connectionQueue.remove(connection);
    fireConnectionClosed(connection);
    return response;
  }
  throw new InternalError("Could not locate connection: " + connection);
}
