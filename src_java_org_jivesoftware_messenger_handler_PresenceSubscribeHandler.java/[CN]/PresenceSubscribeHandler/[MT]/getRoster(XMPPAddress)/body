{
  String username=null;
  Roster roster=null;
  if (localServer.isLocal(address) && !"".equals(address.getName())) {
    username=address.getNamePrep();
    roster=(Roster)CacheManager.getCache("username2roster").get(username);
    if (roster == null) {
      roster=new CachedRosterImpl(username);
      CacheManager.getCache("username2roster").put(username,roster);
    }
  }
  return roster;
}
