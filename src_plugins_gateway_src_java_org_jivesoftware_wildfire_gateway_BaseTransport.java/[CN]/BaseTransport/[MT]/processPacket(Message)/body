{
  List<Packet> reply=new ArrayList<Packet>();
  JID from=packet.getFrom();
  JID to=packet.getTo();
  if (to.getNode() == null) {
    try {
      TransportSession session=sessionManager.getSession(from);
      if (packet.getBody() != null) {
        session.sendServerMessage(packet.getBody());
      }
    }
 catch (    NotFoundException e) {
      Log.debug("Unable to find session.");
    }
  }
 else {
    try {
      TransportSession session=sessionManager.getSession(from);
      if (packet.getBody() != null) {
        session.sendMessage(to,packet.getBody());
      }
    }
 catch (    NotFoundException e) {
      Log.debug("Unable to find session.");
    }
  }
  return reply;
}
