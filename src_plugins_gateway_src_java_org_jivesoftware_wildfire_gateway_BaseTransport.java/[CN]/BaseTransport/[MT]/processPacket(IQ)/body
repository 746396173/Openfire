{
  List<Packet> reply=new ArrayList<Packet>();
  Log.debug("Got IQ packet: " + packet.toString());
  if (packet.getType() == IQ.Type.error) {
    return reply;
  }
  String xmlns=null;
  Element child=(packet).getChildElement();
  if (child != null) {
    xmlns=child.getNamespaceURI();
  }
  if (xmlns == null) {
    Log.debug("No XMLNS");
    return reply;
  }
  if (xmlns.equals(DISCO_INFO)) {
    Log.debug("Matched Disco Info");
    reply.addAll(handleDiscoInfo(packet));
  }
 else   if (xmlns.equals(DISCO_ITEMS)) {
    Log.debug("Matched Disco Items");
    reply.addAll(handleDiscoItems(packet));
  }
 else   if (xmlns.equals(IQ_REGISTER)) {
    Log.debug("Matched IQ Register");
    reply.addAll(handleIQRegister(packet));
  }
 else {
    Log.debug("Matched nothing");
  }
  return reply;
}
