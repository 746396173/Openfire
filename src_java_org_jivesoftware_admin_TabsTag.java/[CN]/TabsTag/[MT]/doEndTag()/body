{
  ServletRequest request=pageContext.getRequest();
  String beanName=getBean();
  AdminPageBean pageInfo=(AdminPageBean)request.getAttribute(beanName);
  String pageID=null;
  if (pageInfo != null) {
    pageID=pageInfo.getPageID();
  }
  Collection<AdminConsole.Item> items=AdminConsole.getItems();
  if (items.size() > 0) {
    JspWriter out=pageContext.getOut();
    StringBuffer buf=new StringBuffer();
    buf.append("<ul>");
    String body=getBodyContent().getString();
    AdminConsole.Item root=AdminConsole.getRootByChildID(pageID);
    for (    AdminConsole.Item item : items) {
      String value=body;
      if (value != null) {
        value=StringUtils.replace(value,"[id]",clean(item.getId()));
        value=StringUtils.replace(value,"[url]",clean(item.getUrl()));
        value=StringUtils.replace(value,"[name]",clean(item.getName()));
        value=StringUtils.replace(value,"[description]",clean(item.getDescription()));
      }
      String css=getCss();
      if (item.equals(root)) {
        css=getCurrentcss();
      }
      buf.append("<li class=\"").append(css).append("\">");
      buf.append(value);
      buf.append("</li>");
    }
    buf.append("</ul>");
    try {
      out.write(buf.toString());
    }
 catch (    IOException ioe) {
      throw new JspException(ioe.getMessage());
    }
  }
  return EVAL_PAGE;
}
