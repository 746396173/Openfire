{
  while (notTerminated && !Thread.interrupted()) {
    try {
      selector.select();
      Set selected=selector.selectedKeys();
      Iterator it=selected.iterator();
      while (it.hasNext()) {
        SelectionKey key=(SelectionKey)it.next();
        it.remove();
        SelectorAction action=(SelectorAction)key.attachment();
        if (action == null) {
          continue;
        }
        if (key.isAcceptable()) {
          action.connect(key);
        }
 else         if (key.isReadable()) {
          action.read(key);
        }
      }
      Thread.sleep(CYCLE_TIME);
    }
 catch (    IOException ie) {
      if (notTerminated) {
        Log.error(LocaleUtils.getLocalizedString("admin.error.accept"),ie);
      }
    }
catch (    Exception e) {
      Log.error(LocaleUtils.getLocalizedString("admin.error.accept"),e);
    }
  }
}
