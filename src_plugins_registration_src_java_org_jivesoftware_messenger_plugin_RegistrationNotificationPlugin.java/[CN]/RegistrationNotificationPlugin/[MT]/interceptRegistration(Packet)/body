{
  if (packet instanceof IQ) {
    IQ iqPacket=(IQ)packet;
    if (IQ.Type.set.equals(iqPacket.getType())) {
      Element childElement=iqPacket.getChildElement();
      String namespace=null;
      if (childElement != null) {
        namespace=childElement.getNamespaceURI();
      }
      if ("jabber:iq:register".equals(namespace)) {
        XDataFormImpl registrationForm=null;
        Element iqElement=iqPacket.getChildElement();
        Element formElement=iqElement.element("x");
        String username=null;
        ;
        if (formElement != null) {
          Iterator<String> values=registrationForm.getField("username").getValues();
          username=(values.hasNext() ? values.next() : " ");
        }
 else {
          username=iqElement.elementText("username");
        }
        String msg=" A new user with the username of '" + username + "' just attempted to register";
        try {
          sessionManager.sendServerMessage(new JID(getContact() + "@" + serverName),"Registration Notification",msg);
        }
 catch (        SessionNotFoundException e) {
          Log.error("SessionNotFoundException: could not send the following message to: " + getContact() + msg);
        }
      }
    }
  }
}
