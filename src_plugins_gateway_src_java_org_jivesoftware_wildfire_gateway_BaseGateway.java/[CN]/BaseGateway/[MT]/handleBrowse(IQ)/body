{
  IQ reply=IQ.createResultIQ(iq);
  Element responseElement=DocumentHelper.createElement(QName.get("query","jabber:iq:browse"));
  try {
    for (    ForeignContact fc : PersistenceManager.Factory.get(this).getRegistrar().getGatewaySession(iq.getFrom()).getContacts()) {
      Element item=DocumentHelper.createElement("item");
      item.addAttribute("category","user");
      item.addAttribute("jid",fc + "@" + this.getName()+ "."+ this.getDomain());
      item.addAttribute("type","client");
      responseElement.add(item);
    }
    reply.setChildElement(responseElement);
  }
 catch (  Exception e) {
    logger.log(Level.WARNING,"basegateway.notfound",iq.getFrom().toBareJID());
  }
  return reply;
}
