{
  super.initialize(context,container);
  this.context=context;
  setEnabled("true".equals(context.getProperty("xmpp.audit.active")));
  setAuditMessage("true".equals(context.getProperty("xmpp.audit.message")));
  setAuditPresence("true".equals(context.getProperty("xmpp.audit.presence")));
  setAuditIQ("true".equals(context.getProperty("xmpp.audit.iq")));
  setAuditXPath("true".equals(context.getProperty("xmpp.audit.xpath")));
  String[] filters=context.getProperties("xmpp.audit.filter.xpath");
  for (int i=0; i < filters.length; i++) {
    xpath.add(filters[i]);
  }
  saveXPath();
  String prop=context.getProperty("xmpp.audit.maxsize");
  maxSize=MAX_FILE_SIZE;
  if (prop != null && prop.trim().length() > 0) {
    maxSize=Integer.parseInt(prop);
  }
  prop=context.getProperty("xmpp.audit.maxcount");
  maxCount=MAX_FILE_COUNT;
  if (prop != null && prop.trim().length() > 0) {
    maxCount=Integer.parseInt(prop);
  }
  auditor=new AuditorImpl(this,context);
  auditor.setMaxValues(maxSize,maxCount);
}
