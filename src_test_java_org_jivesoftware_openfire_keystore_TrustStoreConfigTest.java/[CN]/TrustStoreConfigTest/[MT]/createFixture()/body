{
  final String tempDir=System.getProperty("java.io.tmpdir");
  final String location=tempDir + (tempDir.endsWith(File.separator) ? "" : File.separator) + UUID.randomUUID();
  final KeyStore keyStore=KeyStore.getInstance(KeyStore.getDefaultType());
  final String password="TS%WV@# aSG 4";
  keyStore.load(null,password.toCharArray());
  final X509Certificate validCertificate=generateTestSelfSignedCertificate(true);
  keyStore.setCertificateEntry("valid-ca",validCertificate);
  final X509Certificate invalidCertificate=generateTestSelfSignedCertificate(false);
  keyStore.setCertificateEntry("invalid-ca",invalidCertificate);
  try (FileOutputStream fos=new FileOutputStream(location)){
    keyStore.store(fos,password.toCharArray());
  }
   trustStoreConfig=new TrustStoreConfig(location,password,keyStore.getType(),false);
}
