{
  FileReader in=null;
  try {
    File modulesXml=new File(JiveGlobals.getHomeDirectory(),"conf/modules.xml");
    logger.info("Loading modules from " + modulesXml.getAbsolutePath());
    SAXReader xmlReader=new SAXReader();
    xmlReader.setEncoding("UTF-8");
    in=new FileReader(modulesXml);
    Document document=xmlReader.read(in);
    Element root=document.getRootElement();
    Iterator<Node> itr=root.nodeIterator();
    while (itr.hasNext()) {
      Node n=itr.next();
      if (n.getNodeType() == Element.ELEMENT_NODE && "module".equals(n.getName())) {
        Element module=(Element)n;
        logger.debug("Loading module " + module.attributeValue("implementation") + " to interface "+ module.attributeValue("interface"));
        loadModule(module.attributeValue("interface"),module.attributeValue("implementation"));
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    logger.error(LocaleUtils.getLocalizedString("admin.error"),e);
  }
 finally {
    if (in != null) {
      try {
        in.close();
      }
 catch (      IOException e) {
      }
    }
  }
  componentManager=getComponentManager();
}
