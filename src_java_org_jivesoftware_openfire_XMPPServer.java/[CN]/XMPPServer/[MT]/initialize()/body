{
  locateOpenfire();
  name=JiveGlobals.getProperty("xmpp.domain","127.0.0.1").toLowerCase();
  try {
    host=InetAddress.getLocalHost().getHostName();
  }
 catch (  UnknownHostException ex) {
    Log.warn("Unable to determine local hostname.",ex);
  }
  version=new Version(3,7,0,Version.ReleaseStatus.Release,-1);
  if ("true".equals(JiveGlobals.getXMLProperty("setup"))) {
    setupMode=false;
  }
  if (isStandAlone()) {
    Runtime.getRuntime().addShutdownHook(new ShutdownHookThread());
  }
  loader=Thread.currentThread().getContextClassLoader();
  try {
    CacheFactory.initialize();
  }
 catch (  InitializationException e) {
    e.printStackTrace();
    Log.error(e.getMessage(),e);
  }
  initialized=true;
}
