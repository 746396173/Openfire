{
  locateOpenfire();
  name=JiveGlobals.getProperty("xmpp.domain","127.0.0.1").toLowerCase();
  try {
    host=InetAddress.getLocalHost().getHostName();
  }
 catch (  UnknownHostException ex) {
    Log.warn("Unable to determine local hostname.",ex);
  }
  version=new Version(3,9,0,Version.ReleaseStatus.Alpha,-1);
  if ("true".equals(JiveGlobals.getXMLProperty("setup"))) {
    setupMode=false;
  }
  if (isStandAlone()) {
    Log.info("Registering shutdown hook (standalone mode)");
    Runtime.getRuntime().addShutdownHook(new ShutdownHookThread());
    TaskEngine.getInstance().schedule(new Terminator(),1000,1000);
  }
  loader=Thread.currentThread().getContextClassLoader();
  try {
    CacheFactory.initialize();
  }
 catch (  InitializationException e) {
    e.printStackTrace();
    Log.error(e.getMessage(),e);
  }
  initialized=true;
}
