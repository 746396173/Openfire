{
  try {
    initialize();
    startDate=new Date();
    xmppServerInfo=new XMPPServerInfoImpl(name,version,startDate,getConnectionManager());
    File pluginDir=new File(openfireHome,"plugins");
    pluginManager=new PluginManager(pluginDir);
    if (!setupMode) {
      verifyDataSource();
      loadModules();
      initModules();
      startModules();
    }
    ServerTrafficCounter.initStatistics();
    pluginManager.start();
    String startupBanner=LocaleUtils.getLocalizedString("short.title") + " " + version.getVersionString()+ " ["+ JiveGlobals.formatDateTime(new Date())+ "]";
    Log.info(startupBanner);
    System.out.println(startupBanner);
    for (    XMPPServerListener listener : listeners) {
      listener.serverStarted();
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    Log.error(e);
    System.out.println(LocaleUtils.getLocalizedString("startup.error"));
    shutdownServer();
  }
}
