{
  this.room=chatroom;
  this.nick=nickname;
  this.user=chatuser;
  this.server=chatserver;
  this.router=packetRouter;
  this.role=role;
  this.affiliation=affiliation;
  this.session=XMPPServer.getInstance().getSessionManager().getSession(presence.getFrom());
  extendedInformation=DocumentHelper.createElement(QName.get("x","http://jabber.org/protocol/muc#user"));
  calculateExtendedInformation();
  rJID=new JID(room.getName(),server.getServiceDomain(),nick);
  setPresence(presence);
}
