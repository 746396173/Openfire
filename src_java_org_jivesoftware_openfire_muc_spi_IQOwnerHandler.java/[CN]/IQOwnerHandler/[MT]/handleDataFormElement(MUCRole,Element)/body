{
  XDataFormImpl completedForm=new XDataFormImpl();
  completedForm.parse(formElement);
  if (DataForm.TYPE_CANCEL.equals(completedForm.getType())) {
    if (room.isLocked()) {
      room.destroyRoom(null,null);
    }
  }
 else   if (DataForm.TYPE_SUBMIT.equals(completedForm.getType())) {
    if (completedForm.getFieldsSize() == 0) {
    }
 else {
      processConfigurationForm(completedForm,senderRole);
    }
    if (room.isLocked() && !room.isManuallyLocked()) {
      room.unlock(senderRole);
    }
  }
}
