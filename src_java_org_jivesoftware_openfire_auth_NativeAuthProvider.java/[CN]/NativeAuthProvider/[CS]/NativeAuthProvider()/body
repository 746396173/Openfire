{
  this.domain=JiveGlobals.getXMLProperty("nativeAuth.domain");
  try {
    String binaryPath=(new URL(Shaj.class.getProtectionDomain().getCodeSource().getLocation(),".")).openConnection().getPermission().getName();
    binaryPath=(new File(binaryPath)).getCanonicalPath();
    String newLibPath=binaryPath + File.pathSeparator + System.getProperty("java.library.path");
    System.setProperty("java.library.path",newLibPath);
    Field fieldSysPath=ClassLoader.class.getDeclaredField("sys_paths");
    fieldSysPath.setAccessible(true);
    fieldSysPath.set(System.class.getClassLoader(),null);
  }
 catch (  Exception e) {
    Log.error(e);
  }
  com.cenqua.shaj.log.Log.Factory.setInstance(new com.cenqua.shaj.log.Log(){
    public boolean isDebug(){
      return Log.isDebugEnabled();
    }
    public void error(    String string){
      Log.error(string);
    }
    public void error(    String string,    Throwable throwable){
      Log.error(string,throwable);
    }
    public void debug(    String string){
      Log.debug("NativeAuthProvider: " + string);
    }
  }
);
}
