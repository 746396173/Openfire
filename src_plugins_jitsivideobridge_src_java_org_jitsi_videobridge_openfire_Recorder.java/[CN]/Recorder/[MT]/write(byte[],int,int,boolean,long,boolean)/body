{
  if (done) {
    return;
  }
synchronized (dataToWrite) {
    dataToWrite.add(new DataToWrite(data,offset,length,keyframe,timestamp,isVideo));
    dataToWrite.notifyAll();
  }
}
