{
  if (properties.containsKey(key)) {
    String originalValue=properties.get(key);
    updateProperty((String)key,(String)value);
    Map params=new HashMap();
    params.put("type","propertyModified");
    params.put("propertyKey",key);
    params.put("originalValue",originalValue);
    GroupEventDispatcher.dispatchEvent(Group.this,GroupEventDispatcher.EventType.group_modified,params);
  }
 else {
    insertProperty((String)key,(String)value);
    Map params=new HashMap();
    params.put("type","propertyAdded");
    params.put("propertyKey",key);
    GroupEventDispatcher.dispatchEvent(Group.this,GroupEventDispatcher.EventType.group_modified,params);
  }
  return properties.put((String)key,(String)value);
}
