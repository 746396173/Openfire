{
  Collection<Registration> registrations=registrationManager.getRegistrations(jid,this.transportType);
  if (registrations.isEmpty()) {
    throw new UserNotFoundException("User was not registered.");
  }
  try {
    TransportSession session=sessionManager.getSession(jid);
    if (session.isLoggedIn()) {
      this.registrationLoggedOut(session);
    }
    sessionManager.removeSession(jid);
  }
 catch (  NotFoundException e) {
  }
  for (  Registration reg : registrations) {
    registrationManager.deleteRegistration(reg);
  }
  try {
    cleanUpRoster(jid,false,true);
  }
 catch (  UserNotFoundException e) {
    throw new UserNotFoundException("Unable to find roster.");
  }
}
