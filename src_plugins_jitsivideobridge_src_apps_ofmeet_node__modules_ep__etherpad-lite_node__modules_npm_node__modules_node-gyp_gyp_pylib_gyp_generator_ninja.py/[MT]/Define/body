def Define(d, flavor):
    "Takes a preprocessor define and returns a -D parameter that's ninja- and\n  shell-escaped."
    if (flavor == 'win'):
        d = d.replace('#', ('\\%03o' % ord('#')))
    return QuoteShellArgument(ninja_syntax.escape(('-D' + d)), flavor)
