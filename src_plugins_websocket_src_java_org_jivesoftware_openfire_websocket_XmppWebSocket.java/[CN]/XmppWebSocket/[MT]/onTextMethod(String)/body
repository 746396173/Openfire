{
  try {
    XMPPPacketReader reader=readerPool.borrowObject();
    Document doc=reader.read(new StringReader(stanza));
    readerPool.returnObject(reader);
    if (xmppSession == null) {
      initiateSession(doc.getRootElement());
    }
 else {
      processStanza(doc.getRootElement());
    }
  }
 catch (  Exception ex) {
    Log.error("Failed to initiate XMPP session",ex);
  }
}
