{
  LocalComponentSession session=(LocalComponentSession)handback;
  try {
    for (    String domain : session.getExternalComponent().getSubdomains()) {
      String subdomain=domain.substring(0,domain.indexOf(serverName) - 1);
      InternalComponentManager.getInstance().removeComponent(subdomain);
    }
  }
 catch (  Exception e) {
    Log.error(LocaleUtils.getLocalizedString("admin.error.close"),e);
  }
 finally {
    localSessionManager.getComponentsSessions().remove(session);
    componentSessionsCache.remove(session.getAddress().toString());
  }
}
