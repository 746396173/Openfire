{
  List<ConnectionMultiplexerSession> sessions=new ArrayList<ConnectionMultiplexerSession>();
  sessions.addAll(localSessionManager.getConnnectionManagerSessions().values());
  RemoteSessionLocator locator=server.getRemoteSessionLocator();
  if (locator != null) {
    for (    Map.Entry<String,byte[]> entry : multiplexerSessionsCache.entrySet()) {
      if (!Arrays.equals(server.getNodeID(),entry.getValue())) {
        sessions.add(locator.getConnectionMultiplexerSession(entry.getValue(),new JID(entry.getKey())));
      }
    }
  }
  return sessions;
}
