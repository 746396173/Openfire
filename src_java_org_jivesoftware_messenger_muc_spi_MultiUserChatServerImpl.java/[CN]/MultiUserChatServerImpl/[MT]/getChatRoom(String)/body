{
synchronized (rooms) {
    MUCRoom answer=rooms.get(roomName.toLowerCase());
    if (answer == null) {
      if (persistentRoomSurrogateCache.size() == 0) {
        populateRoomSurrogateCache();
      }
      answer=(MUCRoom)persistentRoomSurrogateCache.get(roomName);
    }
    return answer;
  }
}
