{
  MUCRoom room=rooms.get(roomName.toLowerCase());
  if (room == null) {
synchronized (roomName.intern()) {
      room=rooms.get(roomName.toLowerCase());
      if (room == null) {
        room=new MUCRoomImpl(this,roomName,router);
        try {
          MUCPersistenceManager.loadFromDB((MUCRoomImpl)room);
          rooms.put(roomName.toLowerCase(),room);
        }
 catch (        IllegalArgumentException e) {
          room=null;
        }
      }
    }
  }
  return room;
}
