{
  final MUCRoom room=rooms.remove(roomName.toLowerCase());
  if (room != null) {
    final long chatLength=room.getChatLength();
    totalChatTime+=chatLength;
    MUCPersistenceManager.updateRoomInMemory(room,false);
    if (room.isPersistent()) {
      persistentRoomSurrogateCache.clear();
    }
 else {
      persistentRoomSurrogateCache.size();
    }
  }
}
