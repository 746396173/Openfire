{
  if (name != null && node == null) {
    MUCRoom room=getChatRoom(name);
    if (room != null && canDiscoverRoom(room)) {
      XDataFormImpl dataForm=new XDataFormImpl(DataForm.TYPE_RESULT);
      XFormFieldImpl field=new XFormFieldImpl("FORM_TYPE");
      field.setType(FormField.TYPE_HIDDEN);
      field.addValue("http://jabber.org/protocol/muc#roominfo");
      dataForm.addField(field);
      field=new XFormFieldImpl("muc#roominfo_description");
      field.setLabel(LocaleUtils.getLocalizedString("muc.extended.info.desc"));
      field.addValue(room.getDescription());
      dataForm.addField(field);
      field=new XFormFieldImpl("muc#roominfo_subject");
      field.setLabel(LocaleUtils.getLocalizedString("muc.extended.info.subject"));
      field.addValue(room.getSubject());
      dataForm.addField(field);
      field=new XFormFieldImpl("muc#roominfo_occupants");
      field.setLabel(LocaleUtils.getLocalizedString("muc.extended.info.occupants"));
      field.addValue(Integer.toString(room.getOccupantsCount()));
      dataForm.addField(field);
      return dataForm;
    }
  }
  return null;
}
