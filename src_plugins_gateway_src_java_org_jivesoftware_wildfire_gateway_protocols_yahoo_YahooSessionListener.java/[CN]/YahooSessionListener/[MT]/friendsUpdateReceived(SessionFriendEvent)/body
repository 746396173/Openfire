{
  for (  YahooUser user : event.getFriends()) {
    Presence p=new Presence();
    p.setTo(yahooSession.getJID());
    p.setFrom(yahooSession.getTransport().convertIDToJID(event.getFrom()));
    String custommsg=user.getCustomStatusMessage();
    if (custommsg != null) {
      p.setStatus(custommsg);
    }
    long statusid=user.getStatus();
    if (statusid == StatusConstants.STATUS_AVAILABLE) {
    }
 else     if (statusid == StatusConstants.STATUS_BRB) {
      p.setShow(Presence.Show.away);
    }
 else     if (statusid == StatusConstants.STATUS_BUSY) {
      p.setShow(Presence.Show.dnd);
    }
 else     if (statusid == StatusConstants.STATUS_IDLE) {
      p.setShow(Presence.Show.away);
    }
 else     if (statusid == StatusConstants.STATUS_OFFLINE) {
      p.setType(Presence.Type.unavailable);
    }
 else     if (statusid == StatusConstants.STATUS_NOTATDESK) {
      p.setShow(Presence.Show.away);
    }
 else     if (statusid == StatusConstants.STATUS_NOTINOFFICE) {
      p.setShow(Presence.Show.away);
    }
 else     if (statusid == StatusConstants.STATUS_ONPHONE) {
      p.setShow(Presence.Show.away);
    }
 else     if (statusid == StatusConstants.STATUS_ONVACATION) {
      p.setShow(Presence.Show.xa);
    }
 else     if (statusid == StatusConstants.STATUS_OUTTOLUNCH) {
      p.setShow(Presence.Show.xa);
    }
 else     if (statusid == StatusConstants.STATUS_STEPPEDOUT) {
      p.setShow(Presence.Show.away);
    }
 else {
    }
    yahooSession.getTransport().sendPacket(p);
  }
}
