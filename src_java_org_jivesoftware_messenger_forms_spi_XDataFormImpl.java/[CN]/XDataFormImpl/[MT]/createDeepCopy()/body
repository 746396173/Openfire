{
  XDataFormImpl copy=new XDataFormImpl(type);
  copy.title=this.title;
  copy.instructions=(List)((ArrayList)this.instructions).clone();
  Iterator fieldsIter=getFields();
  while (fieldsIter.hasNext()) {
    copy.addField((XFormFieldImpl)((XFormFieldImpl)fieldsIter.next()).createDeepCopy());
  }
  Iterator fragmentIter=getFragments();
  while (fragmentIter.hasNext()) {
    copy.addFragment(((XMPPFragment)fragmentIter.next()).createDeepCopy());
  }
  return copy;
}
