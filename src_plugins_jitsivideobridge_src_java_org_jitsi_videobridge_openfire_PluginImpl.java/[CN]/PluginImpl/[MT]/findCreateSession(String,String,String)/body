{
  CallSession session=null;
  String hostname=XMPPServer.getInstance().getServerInfo().getHostname();
  String callerId=to;
  if (callerId.indexOf("+") == 0)   callerId=callerId.substring(1);
  String focusAgentName="jitsi.videobridge." + callerId;
  if (sessions.containsKey(focusAgentName)) {
    FocusAgent focus=sessions.get(focusAgentName);
    if (focus.callSessions.containsKey(from)) {
      session=focus.callSessions.get(from);
    }
 else {
      Conference conference=null;
      String focusJid=XMPPServer.getInstance().createJID(focusAgentName,focusAgentName).toString();
      if (focus.focusId != null) {
        conference=getVideoBridge().getConference(focus.focusId,focusJid);
      }
      if (conference != null) {
        MediaService mediaService=LibJitsi.getMediaService();
        MediaStream mediaStream=mediaService.createMediaStream(null,org.jitsi.service.neomedia.MediaType.AUDIO,mediaService.createSrtpControl(SrtpControlType.MIKEY));
        mediaStream.setName("rayo-" + System.currentTimeMillis());
        mediaStream.setSSRCFactory(focus.ssrcFactory);
        mediaStream.setDevice(conference.getOrCreateContent("audio").getMixer());
        session=new CallSession(mediaStream,hostname,focus,from);
        focus.callSessions.put(to,session);
      }
    }
  }
  return session;
}
