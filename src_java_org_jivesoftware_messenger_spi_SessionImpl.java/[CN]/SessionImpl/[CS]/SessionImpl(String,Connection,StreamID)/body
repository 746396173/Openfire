{
  conn=connection;
  this.streamID=streamID;
  this.serverName=serverName;
  String id=streamID.getID();
  this.address=new JID(null,serverName,id);
  presence=new Presence();
  presence.setType(Presence.Type.unavailable);
  this.sessionManager=SessionManager.getInstance();
  if (sessionManager == null) {
    throw new UnauthorizedException("Required services not available");
  }
}
