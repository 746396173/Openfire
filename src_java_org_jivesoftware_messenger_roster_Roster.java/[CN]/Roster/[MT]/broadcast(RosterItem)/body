{
  if (item.isOnlyShared() && item.getSubStatus() == RosterItem.SUB_FROM) {
    return;
  }
  List<String> groups=new ArrayList<String>(item.getGroups());
  for (  Group sharedGroup : item.getSharedGroups()) {
    groups.add(sharedGroup.getProperties().get("sharedRoster.displayName"));
  }
  org.xmpp.packet.Roster roster=new org.xmpp.packet.Roster();
  roster.setType(IQ.Type.set);
  roster.addItem(item.getJid(),item.getNickname(),getAskStatus(item.getAskStatus()),org.xmpp.packet.Roster.Subscription.valueOf(item.getSubStatus().getName()),groups);
  broadcast(roster);
}
