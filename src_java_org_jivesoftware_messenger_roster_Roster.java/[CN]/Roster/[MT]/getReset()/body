{
  org.xmpp.packet.Roster roster=new org.xmpp.packet.Roster();
  Iterator items=getRosterItems();
  while (items.hasNext()) {
    RosterItem item=(RosterItem)items.next();
    if (item.getSubStatus() != RosterItem.SUB_NONE || item.getAskStatus() != RosterItem.ASK_NONE) {
      roster.addItem(item.getJid(),item.getNickname(),getAskStatus(item.getAskStatus()),org.xmpp.packet.Roster.Subscription.valueOf(item.getSubStatus().getName()),item.getGroups());
    }
  }
  return roster;
}
