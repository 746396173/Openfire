{
  try {
    logger.debug("Discovering info for: " + contactAddress);
    DiscoverInfo info=discoInfoManager.discoverInfo(contactAddress);
    logger.debug("HAVE Discovering info for: " + contactAddress);
    logger.debug("Features");
    Iterator<DiscoverInfo.Feature> featuresList=info.getFeatures();
    while (featuresList.hasNext()) {
      DiscoverInfo.Feature f=featuresList.next();
      logger.debug(f.toXML());
    }
    logger.debug("Identities");
    Iterator<DiscoverInfo.Identity> identities=info.getIdentities();
    while (identities.hasNext()) {
      DiscoverInfo.Identity identity=identities.next();
      logger.debug(identity.toXML());
    }
  }
 catch (  XMPPException e) {
    logger.error("Error discovering features",e);
  }
  for (  String feature : features) {
    if (!discoInfoManager.supportsFeature(contactAddress,feature)) {
      return false;
    }
  }
  return true;
}
