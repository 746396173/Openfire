{
  try {
    logger.info("Discovering info for: " + node + " subnode: "+ subnode);
    DiscoverInfo info=discoInfoManager.discoverInfo(node,subnode);
    logger.info("Features");
    Iterator<DiscoverInfo.Feature> featuresList=info.getFeatures();
    while (featuresList.hasNext()) {
      DiscoverInfo.Feature f=featuresList.next();
      logger.info(f.toXML());
    }
    logger.info("Identities");
    Iterator<DiscoverInfo.Identity> identities=info.getIdentities();
    while (identities.hasNext()) {
      DiscoverInfo.Identity identity=identities.next();
      logger.info(identity.toXML());
    }
  }
 catch (  XMPPException e) {
    logger.error(e,e);
  }
  for (  String feature : features) {
    if (!discoInfoManager.supportsFeature(node,feature)) {
      return false;
    }
  }
  return true;
}
