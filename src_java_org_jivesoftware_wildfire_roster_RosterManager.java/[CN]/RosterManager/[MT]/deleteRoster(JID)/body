{
  if (!server.isLocal(user)) {
    return;
  }
  try {
    String username=user.getNode();
    Roster roster=getRoster(username);
    for (    RosterItem item : roster.getRosterItems()) {
      try {
        roster.deleteRosterItem(item.getJid(),false);
      }
 catch (      SharedGroupException e) {
      }
    }
    CacheManager.getCache("Roster").remove(username);
    RosterItemProvider rosteItemProvider=RosterItemProvider.getInstance();
    Iterator<String> usernames=rosteItemProvider.getUsernames(user.toBareJID());
    while (usernames.hasNext()) {
      username=usernames.next();
      try {
        roster=getRoster(username);
        roster.deleteRosterItem(user,false);
      }
 catch (      SharedGroupException e) {
      }
catch (      UserNotFoundException e) {
      }
    }
  }
 catch (  UnsupportedOperationException e) {
  }
catch (  UserNotFoundException e) {
  }
}
