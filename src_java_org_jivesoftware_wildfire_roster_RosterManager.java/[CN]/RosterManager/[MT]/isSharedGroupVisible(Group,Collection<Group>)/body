{
  if (groups.isEmpty()) {
    return false;
  }
  Map<String,String> properties=sharedGroup.getProperties();
  String showInRoster=properties.get("sharedRoster.showInRoster");
  if ("everybody".equals(showInRoster)) {
    return true;
  }
  if ("onlyGroup".equals(showInRoster)) {
    Collection<String> groupNames=new ArrayList<String>(groups.size());
    for (    Group group : groups) {
      groupNames.add(group.getName());
    }
    Collection<String> visibleGroups=parseGroupNames(properties.get("sharedRoster.groupList"));
    return !Collections.disjoint(visibleGroups,groupNames);
  }
  return false;
}
