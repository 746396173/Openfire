{
  boolean result=true;
  if (timeout < 0) {
    map.lock(key);
  }
 else   if (timeout == 0) {
    result=map.tryLock(key);
  }
 else {
    result=map.tryLock(key,timeout,TimeUnit.MILLISECONDS);
  }
  return result;
}
