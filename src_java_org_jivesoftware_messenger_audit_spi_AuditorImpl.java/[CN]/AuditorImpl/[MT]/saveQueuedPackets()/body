{
  AuditPacket entry;
  int batchSize=logQueue.size();
  for (int index=0; index < batchSize; index++) {
    entry=logQueue.poll();
    if (entry != null) {
      try {
        prepareAuditFile();
        entry.send(xmlSerializer);
        xmlSerializer.flush();
      }
 catch (      IOException e) {
        Log.error(LocaleUtils.getLocalizedString("admin.error"),e);
        logQueue.add(entry);
      }
catch (      XMLStreamException e) {
        Log.error(LocaleUtils.getLocalizedString("admin.error"),e);
        logQueue.add(entry);
      }
    }
  }
}
