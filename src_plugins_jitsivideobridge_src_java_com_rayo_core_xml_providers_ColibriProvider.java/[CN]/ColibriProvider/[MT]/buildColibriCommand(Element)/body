{
  String action=element.attributeValue("action");
  Object command=null;
  if ("register".equals(action)) {
    command=new RegisterCommand();
  }
 else   if ("unregister".equals(action)) {
    command=new UnRegisterCommand();
  }
 else   if ("offer".equals(action)) {
    command=new ColibriOfferCommand(new JID(element.attributeValue("muc")));
  }
 else   if ("expire".equals(action)) {
    command=new ColibriExpireCommand(new JID(element.attributeValue("muc")));
  }
 else   if ("invite".equals(action)) {
    command=new InviteCommand(new JID(element.attributeValue("muc")),toURI(element.attributeValue("from")),toURI(element.attributeValue("to")));
  }
 else   if ("uninvite".equals(action)) {
    command=new UnInviteCommand(new JID(element.attributeValue("muc")),element.attributeValue("callid"));
  }
  return command;
}
