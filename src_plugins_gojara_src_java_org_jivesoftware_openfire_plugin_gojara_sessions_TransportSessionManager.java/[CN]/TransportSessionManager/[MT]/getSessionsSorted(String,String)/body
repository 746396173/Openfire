{
  ArrayList<GatewaySession> result=new ArrayList<GatewaySession>();
  for (  String key : transportSessions.keySet()) {
    for (    String user : transportSessions.get(key).keySet()) {
      Timestamp stamp=new Timestamp(transportSessions.get(key).get(user));
      Date date=new Date(stamp.getTime());
      result.add(new GatewaySession(user,key,date));
    }
  }
  if (sortby.equals("username")) {
    Collections.sort(result,new SortUserName());
  }
 else   if (sortby.equals("transport")) {
    Collections.sort(result,new SortTransport());
  }
 else   if (sortby.equals("loginTime")) {
    Collections.sort(result,new SortLastActivity());
  }
  if (sortorder.equals("DESC")) {
    Collections.reverse(result);
  }
  return result;
}
