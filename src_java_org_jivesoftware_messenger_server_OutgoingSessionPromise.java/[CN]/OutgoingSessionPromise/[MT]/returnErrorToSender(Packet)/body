{
  try {
    if (packet instanceof IQ) {
      IQ reply=new IQ();
      reply.setID(((IQ)packet).getID());
      reply.setTo(packet.getFrom());
      reply.setFrom(packet.getTo());
      reply.setChildElement(((IQ)packet).getChildElement().createCopy());
      reply.setError(PacketError.Condition.remote_server_not_found);
      ChannelHandler route=routingTable.getRoute(reply.getTo());
      if (route != null) {
        route.process(reply);
      }
    }
 else     if (packet instanceof Presence) {
      Presence reply=new Presence();
      reply.setID(packet.getID());
      reply.setTo(packet.getFrom());
      reply.setFrom(packet.getTo());
      reply.setError(PacketError.Condition.remote_server_not_found);
      ChannelHandler route=routingTable.getRoute(reply.getTo());
      if (route != null) {
        route.process(reply);
      }
    }
 else     if (packet instanceof Message) {
      Message reply=new Message();
      reply.setID(packet.getID());
      reply.setTo(packet.getFrom());
      reply.setFrom(packet.getTo());
      reply.setType(((Message)packet).getType());
      reply.setThread(((Message)packet).getThread());
      reply.setError(PacketError.Condition.remote_server_not_found);
      ChannelHandler route=routingTable.getRoute(reply.getTo());
      if (route != null) {
        route.process(reply);
      }
    }
  }
 catch (  UnauthorizedException e) {
  }
}
