{
  Action action=Action.NO_ACTION;
  String currContentType=avatarElement.elementText("contentType");
  String currdata=avatarElement.elementText("data");
  String newContentType=vCardValues.get(VCardField.PHOTO_TYPE);
  String newData=vCardValues.get(VCardField.PHOTO_BINVAL);
  if (currContentType == null && newContentType != null) {
    avatarElement.addElement("contentType").setText(newContentType);
    avatarElement.addElement("data").setText(newData);
    action=Action.CREATE;
  }
 else   if (currContentType != null && newContentType == null) {
    action=Action.DELETE;
  }
 else   if (currdata != null && !currdata.equals(newData)) {
    avatarElement.element("contentType").setText(newContentType);
    avatarElement.element("data").setText(newData);
    action=Action.MODIFY;
  }
  return action;
}
