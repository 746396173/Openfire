{
  if (componentJID.getNode() != null) {
    return null;
  }
  Component component=components.get(componentJID.getDomain());
  if (component != null) {
    return component;
  }
 else {
    String serverName=componentJID.getDomain();
    int index=serverName.lastIndexOf("." + serverDomain);
    if (index > -1) {
      return components.get(serverName.substring(0,index));
    }
  }
  return null;
}
