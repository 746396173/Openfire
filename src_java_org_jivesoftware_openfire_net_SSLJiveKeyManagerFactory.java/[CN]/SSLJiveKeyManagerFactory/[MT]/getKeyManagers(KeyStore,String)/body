{
  KeyManager[] keyManagers;
  try {
    if (keystore == null) {
      keyManagers=null;
    }
 else {
      KeyManagerFactory keyFactory=KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
      if (keypass == null) {
        keypass=SSLConfig.getKeyPassword();
      }
      keyFactory.init(keystore,keypass.toCharArray());
      keyManagers=keyFactory.getKeyManagers();
    }
  }
 catch (  KeyStoreException e) {
    keyManagers=null;
    Log.error("SSLJiveKeyManagerFactory startup problem.\n" + "  the keystore is corrupt",e);
  }
catch (  NoSuchAlgorithmException e) {
    keyManagers=null;
    Log.error("SSLJiveKeyManagerFactory startup problem.\n" + "  the keystore type doesn't exist (not provided or configured with your JVM)",e);
  }
catch (  UnrecoverableKeyException e) {
    keyManagers=null;
    Log.error("SSLJiveKeyManagerFactory startup problem.\n" + "  the keystore could not be opened (typically the password is bad)",e);
  }
  return keyManagers;
}
