{
  Object found=null;
  try {
    matchLock.readLock().lock();
    Iterator itemItr;
    if (tmpl.serviceID == null) {
      itemItr=idTable.values().iterator();
    }
 else {
      LinkedList items=new LinkedList();
      items.add(idTable.get(tmpl.serviceID));
      itemItr=items.iterator();
    }
    while (itemItr.hasNext()) {
      ServiceItem item=(ServiceItem)itemItr.next();
      if (isMatch(tmpl,item)) {
        found=item.service;
        break;
      }
    }
  }
  finally {
    matchLock.readLock().unlock();
  }
  return found;
}
