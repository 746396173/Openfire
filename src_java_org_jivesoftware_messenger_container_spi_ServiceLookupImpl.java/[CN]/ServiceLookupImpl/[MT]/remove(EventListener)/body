{
  try {
    matchLock.writeLock().lock();
    List templates=(List)listeners.remove(listener);
    if (templates != null) {
      Iterator templateItr=templates.iterator();
      while (templateItr.hasNext()) {
        Object template=templateItr.next();
        matchMatchListeners.remove(template);
        matchNoMatchListeners.remove(template);
        noMatchMatchListeners.remove(template);
      }
    }
  }
  finally {
    matchLock.writeLock().unlock();
  }
}
