{
  String messageBase64=log.getMessage();
  byte[] messageBytes=Base64.decode(messageBase64);
  if (Boolean.parseBoolean(log.getTagValue("deflated"))) {
    Inflater inflater=new Inflater(true);
    ByteArrayOutputStream result=new ByteArrayOutputStream();
    inflater.setInput(messageBytes);
    byte[] buf=new byte[10000];
    do {
      try {
        int len=inflater.inflate(buf);
        result.write(buf,0,len);
      }
 catch (      DataFormatException dfe) {
        if (logger.isInfoEnabled())         logger.info("Failed to inflate log request content:" + dfe);
        return null;
      }
    }
 while (!inflater.finished());
    return result.toString();
  }
 else {
    return new String(messageBytes);
  }
}
