{
  logger.info("Member " + chatRoomMember.getName() + " left "+ chatRoom.getName());
  Participant leftPeer=findParticipantForChatMember(chatRoomMember);
  if (leftPeer != null) {
    JingleSession peerJingleSession=leftPeer.getJingleSession();
    if (peerJingleSession != null) {
      logger.info("Hanging up member " + chatRoomMember.getContactAddress());
      removeSSRCs(peerJingleSession,leftPeer.getSSRCsCopy(),leftPeer.getSSRCGroupsCopy());
      ColibriConferenceIQ peerChannels=leftPeer.getColibriChannelsInfo();
      if (peerChannels != null) {
        colibri.expireChannels(leftPeer.getColibriChannelsInfo());
      }
    }
    participants.remove(leftPeer);
  }
  if (!checkAtLeastOneHumanParticipants()) {
    for (    Participant participant : participants) {
      try {
        terminateParticipant(participant);
      }
 catch (      OperationFailedException e) {
        logger.error(e,e);
        stop();
        break;
      }
    }
  }
  if (participants.size() == 0) {
    stop();
  }
}
