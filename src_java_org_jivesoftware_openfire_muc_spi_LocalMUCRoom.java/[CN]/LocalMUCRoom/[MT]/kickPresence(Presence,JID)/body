{
  List<MUCRole> occupants=occupantsByNickname.get(kickPresence.getFrom().getResource().toLowerCase());
  for (  MUCRole kickedRole : occupants) {
    kickPresence=kickPresence.createCopy();
    if (actorJID != null && actorJID.toString().length() > 0) {
      Element frag=kickPresence.getChildElement("x","http://jabber.org/protocol/muc#user");
      frag.element("item").addElement("actor").addAttribute("jid",actorJID.toBareJID());
    }
    kickedRole.send(kickPresence);
    OccupantLeftEvent event=new OccupantLeftEvent(this,kickedRole);
    event.setOriginator(true);
    event.run();
    event=new OccupantLeftEvent(this,kickedRole);
    CacheFactory.doClusterTask(event);
  }
}
