{
  long rid=getLongAttribue(rootNode.attributeValue("rid"),-1);
  if (rid <= 0) {
    response.sendError(HttpServletResponse.SC_BAD_REQUEST,"Body missing RID (Request ID)");
    return;
  }
  try {
    HttpConnection connection=new HttpConnection(rid,request.isSecure());
    String remoteAddr=request.getRemoteAddr();
    InetAddress address=InetAddress.getByAddress(IPAddressUtil.textToNumericFormatV4(remoteAddr));
    connection.setSession(sessionManager.createSession(address,rootNode,connection));
    respond(response,connection);
  }
 catch (  UnauthorizedException e) {
    response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,"Server Not initialized");
  }
catch (  HttpBindException e) {
    response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
  }
}
