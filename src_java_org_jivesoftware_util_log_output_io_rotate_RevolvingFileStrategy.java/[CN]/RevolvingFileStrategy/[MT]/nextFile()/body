{
  for (int i=maxCount; i > 0; i--) {
    File test=new File(baseFileName.substring(0,baseFileName.lastIndexOf('.')) + "_" + i+ baseFileName.substring(baseFileName.lastIndexOf('.')));
    if (i == maxCount && test.exists()) {
      test.delete();
    }
    if (test.exists()) {
      File r=new File(baseFileName.substring(0,baseFileName.lastIndexOf('.')) + "_" + (i + 1)+ baseFileName.substring(baseFileName.lastIndexOf('.')));
      test.renameTo(r);
    }
  }
  File current=new File(baseFileName);
  File first=new File(baseFileName.substring(0,baseFileName.lastIndexOf('.')) + "_1" + baseFileName.substring(baseFileName.lastIndexOf('.')));
  current.renameTo(first);
  return new File(baseFileName);
}
