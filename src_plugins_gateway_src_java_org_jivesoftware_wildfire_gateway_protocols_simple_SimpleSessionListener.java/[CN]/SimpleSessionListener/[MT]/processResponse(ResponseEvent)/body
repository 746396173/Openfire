{
  Log.debug("SimpleSessionListener for " + myUsername + ":  Received a response event:  "+ responseEvent.getResponse().toString());
  String toAddr="";
  Response response=responseEvent.getResponse();
  if (response.getHeader(ToHeader.NAME) != null) {
    ToHeader toHeader=(ToHeader)response.getHeader(ToHeader.NAME);
    toAddr=toHeader.getAddress().getURI().toString();
  }
  if (response.getHeader(CSeqHeader.NAME) != null) {
    String method=((CSeqHeader)response.getHeader(CSeqHeader.NAME)).getMethod();
    if (method.equals(Request.REGISTER)) {
      if (response.getStatusCode() - response.getStatusCode() % 100 == 200) {
        int expires=0;
        if (response.getHeader(ContactHeader.NAME) != null) {
          expires=((ContactHeader)response.getHeader(ContactHeader.NAME)).getExpires();
        }
 else         if (response.getHeader(ExpiresHeader.NAME) != null) {
          expires=((ExpiresHeader)response.getHeader(ExpiresHeader.NAME)).getExpires();
        }
        if (expires > 0) {
          Log.debug("SimpleSessionListener(" + myUsername + ").processResponse:  "+ mySimpleSession.getRegistration().getUsername()+ " log in successful!");
          mySimpleSession.getRegistration().setLastLogin(new Date());
          mySimpleSession.setLoginStatus(TransportLoginStatus.LOGGED_IN);
        }
 else {
          if (mySimpleSession.getLoginStatus().equals(TransportLoginStatus.LOGGING_OUT)) {
            Log.debug("SimpleSessionListener(" + myUsername + ").processResponse:  "+ mySimpleSession.getRegistration().getUsername()+ " log out successful!");
            mySimpleSession.setLoginStatus(TransportLoginStatus.LOGGED_OUT);
            mySimpleSession.removeStack();
          }
        }
      }
    }
    if (method.equals(Request.SUBSCRIBE)) {
      if (response.getStatusCode() - response.getStatusCode() % 100 == 200) {
        Log.debug("SimpleSessionListener for " + myUsername + ":  Handling SUBSCRIBE acknowledgement!!");
        int expires=0;
        if (response.getHeader(ContactHeader.NAME) != null) {
          expires=((ContactHeader)response.getHeader(ContactHeader.NAME)).getExpires();
        }
        if (response.getHeader(ExpiresHeader.NAME) != null) {
          expires=((ExpiresHeader)response.getHeader(ExpiresHeader.NAME)).getExpires();
        }
        if (expires > 0) {
          mySimpleSession.contactSubscribed(toAddr);
        }
 else {
        }
        Log.debug("SimpleSessionListener for " + myUsername + ":  Handled SUBSCRIBE acknowledgement!!");
      }
    }
  }
}
