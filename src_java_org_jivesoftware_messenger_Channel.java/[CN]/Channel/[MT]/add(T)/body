{
  Runnable r=new Runnable(){
    public void run(){
      try {
        channelHandler.process(packet);
      }
 catch (      Exception e) {
        Log.error(LocaleUtils.getLocalizedString("admin.error"),e);
        try {
          try {
            Session session=SessionManager.getInstance().getSession(packet.getFrom());
            session.getConnection().close();
          }
 catch (          SessionNotFoundException e1) {
            e1.printStackTrace();
          }
        }
 catch (        UnauthorizedException e1) {
        }
      }
    }
  }
;
  executor.execute(r);
}
