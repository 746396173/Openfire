{
  IQ iq=(IQ)requestPacket;
  IQ response=IQ.createResultIQ(iq);
  response.setTo(_componentName);
  Element query=new DefaultElement("query");
  for (  RosterItem i : items) {
    CharSequence serverName=getServerNameFromComponentName(_componentName);
    if (i.getJid().toString().contains(serverName)) {
      Element item=new DefaultElement("item");
      item.add(new DefaultAttribute("jid",i.getJid().toString()));
      item.add(new DefaultAttribute("name",i.getNickname()));
      item.add(new DefaultAttribute("subscription","both"));
      for (      String s : i.getGroups()) {
        Element group=new DefaultElement("group");
        group.setText(s);
        item.add(group);
      }
      query.add(item);
    }
  }
  query.addNamespace("","jabber:iq:roster");
  response.setChildElement(query);
  dispatchPacket(response);
}
