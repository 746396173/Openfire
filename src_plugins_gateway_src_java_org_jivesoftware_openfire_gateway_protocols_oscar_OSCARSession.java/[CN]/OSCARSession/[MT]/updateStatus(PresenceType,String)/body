{
  if (presenceType != PresenceType.available && presenceType != PresenceType.chat) {
    String awayMsg=LocaleUtils.getLocalizedString("gateway.oscar.away","gateway");
    if (verboseStatus != null) {
      awayMsg=verboseStatus;
    }
    request(new SetInfoCmd(new InfoData(null,awayMsg,MY_CAPS,null)));
    Presence p=new Presence();
    p.setShow(Presence.Show.away);
    p.setTo(getJID());
    p.setFrom(getTransport().getJID());
    getTransport().sendPacket(p);
  }
 else {
    request(new SetInfoCmd(new InfoData(null,InfoData.NOT_AWAY,MY_CAPS,null)));
    Presence p=new Presence();
    p.setTo(getJID());
    p.setFrom(getTransport().getJID());
    getTransport().sendPacket(p);
  }
  this.presenceType=presenceType;
  this.verboseStatus=verboseStatus;
}
