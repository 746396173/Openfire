{
  if (modules.isEmpty()) {
    return;
  }
  for (  Module module : modules.values()) {
    module.stop();
    module.destroy();
  }
  modules.clear();
  if (pluginManager != null) {
    pluginManager.shutdown();
  }
  DbConnectionManager.getConnectionProvider().destroy();
  Log.info("Jive Messenger stopped");
}
