{
  primaryAddress=JiveGlobals.getProperty("stun.address.primary");
  secondaryAddress=JiveGlobals.getProperty("stun.address.secondary");
  String addresses=JiveGlobals.getProperty("stun.external.addresses");
  if (addresses == null)   addresses=defaultExternalAddresses;
  externalServers=getStunServerAddresses(addresses);
  primaryPort=JiveGlobals.getIntProperty("stun.port.primary",3478);
  secondaryPort=JiveGlobals.getIntProperty("stun.port.secondary",3479);
  this.enabled=JiveGlobals.getBooleanProperty("stun.enabled",true);
  this.localEnabled=JiveGlobals.getBooleanProperty("stun.local.enabled",false);
  if (localEnabled) {
    if (primaryAddress == null || secondaryAddress == null) {
      Log.warn("STUN server cannot be enabled. Primary and secondary addresses must be defined.");
      enabled=false;
    }
  }
}
