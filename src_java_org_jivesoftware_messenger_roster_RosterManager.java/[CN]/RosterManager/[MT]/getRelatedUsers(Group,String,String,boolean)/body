{
  if (!"onlyGroup".equals(showInRoster) && !"everybody".equals(showInRoster)) {
    return new ArrayList<String>();
  }
  Collection<String> users=new HashSet<String>(group.getMembers());
  users.addAll(group.getAdmins());
  if ("everybody".equals(showInRoster)) {
    if (filterOffline) {
      users.addAll(SessionManager.getInstance().getSessionUsers());
    }
 else {
      for (      User user : UserManager.getInstance().getUsers()) {
        users.add(user.getUsername());
      }
    }
  }
 else {
    Collection<Group> groupList=parseGroups(groupNames);
    for (    Group groupInList : groupList) {
      users.addAll(groupInList.getMembers());
      users.addAll(groupInList.getAdmins());
    }
  }
  return users;
}
