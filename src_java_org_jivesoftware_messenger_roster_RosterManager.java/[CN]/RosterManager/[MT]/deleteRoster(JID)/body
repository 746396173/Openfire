{
  try {
    String username=user.getNode();
    Roster roster=(Roster)CacheManager.getCache("username2roster").get(username);
    if (roster == null) {
      roster=new Roster(username);
    }
    for (    RosterItem item : roster.getRosterItems()) {
      roster.deleteRosterItem(item.getJid());
    }
    CacheManager.getCache("username2roster").remove(username);
    RosterItemProvider rosteItemProvider=RosterItemProvider.getInstance();
    Iterator<String> usernames=rosteItemProvider.getUsernames(user.toBareJID());
    while (usernames.hasNext()) {
      username=usernames.next();
      roster=(Roster)CacheManager.getCache("username2roster").get(username);
      if (roster == null) {
        roster=new Roster(username);
      }
      roster.deleteRosterItem(user);
    }
  }
 catch (  UnsupportedOperationException e) {
  }
}
