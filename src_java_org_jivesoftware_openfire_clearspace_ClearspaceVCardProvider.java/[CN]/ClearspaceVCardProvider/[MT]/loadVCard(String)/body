{
  if (!fieldsIDLoaded) {
synchronized (this) {
      if (!fieldsIDLoaded) {
        loadDefaultProfileFields();
        if (!fieldsIDLoaded) {
          throw new UnsupportedOperationException("Error loading the profiles IDs");
        }
      }
    }
  }
  try {
    User user=UserManager.getInstance().getUser(username);
    long userID=manager.getUserID(username);
    Element profiles=getProfiles(userID);
    Element avatar=getAvatar(userID);
    return ClearspaceVCardTranslator.getInstance().translateClearspaceInfo(profiles,user,avatar);
  }
 catch (  UnsupportedOperationException e) {
    throw e;
  }
catch (  Exception e) {
    throw new UnsupportedOperationException("Error loading the vCard",e);
  }
}
