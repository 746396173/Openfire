{
  if (isConnectionManagerListenerEnabled()) {
    multiplexerSocketAcceptor=buildSocketAcceptor("multiplexer");
    ExecutorThreadModel threadModel=ExecutorThreadModel.getInstance("connectionManager");
    int eventThreads=JiveGlobals.getIntProperty("xmpp.multiplex.processing.threads",16);
    ThreadPoolExecutor eventExecutor=(ThreadPoolExecutor)threadModel.getExecutor();
    eventExecutor.setCorePoolSize(eventThreads + 1);
    eventExecutor.setMaximumPoolSize(eventThreads + 1);
    eventExecutor.setKeepAliveTime(60,TimeUnit.SECONDS);
    multiplexerSocketAcceptor.getDefaultConfig().setThreadModel(threadModel);
    multiplexerSocketAcceptor.getFilterChain().addFirst("xmpp",new ProtocolCodecFilter(new XMPPCodecFactory()));
  }
}
