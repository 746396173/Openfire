{
  if (isConnectionManagerListenerEnabled()) {
    multiplexerSocketAcceptor=buildSocketAcceptor(MULTIPLEXER_SOCKET_ACCEPTOR_NAME);
    int maxPoolSize=JiveGlobals.getIntProperty("xmpp.multiplex.processing.threads",16);
    ExecutorFilter executorFilter=new ExecutorFilter(getCorePoolSize(maxPoolSize),maxPoolSize,60,TimeUnit.SECONDS);
    ThreadPoolExecutor eventExecutor=(ThreadPoolExecutor)executorFilter.getExecutor();
    ThreadFactory threadFactory=eventExecutor.getThreadFactory();
    threadFactory=new DelegatingThreadFactory("Multiplexer-Thread-",threadFactory);
    eventExecutor.setThreadFactory(threadFactory);
    multiplexerSocketAcceptor.getFilterChain().addFirst(EXECUTOR_FILTER_NAME,executorFilter);
    multiplexerSocketAcceptor.getFilterChain().addAfter(EXECUTOR_FILTER_NAME,XMPP_CODEC_FILTER_NAME,new ProtocolCodecFilter(new XMPPCodecFactory()));
  }
}
