{
  NioSocketAcceptor socketAcceptor;
  int processorCount=JiveGlobals.getIntProperty("xmpp.processor.count",Runtime.getRuntime().availableProcessors());
  socketAcceptor=new NioSocketAcceptor(processorCount);
  socketAcceptor.setReuseAddress(true);
  socketAcceptor.setBacklog(JiveGlobals.getIntProperty("xmpp.socket.backlog",50));
  SocketSessionConfig socketSessionConfig=socketAcceptor.getSessionConfig();
  int receiveBuffer=JiveGlobals.getIntProperty("xmpp.socket.buffer.receive",-1);
  if (receiveBuffer > 0) {
    socketSessionConfig.setReceiveBufferSize(receiveBuffer);
  }
  int sendBuffer=JiveGlobals.getIntProperty("xmpp.socket.buffer.send",-1);
  if (sendBuffer > 0) {
    socketSessionConfig.setSendBufferSize(sendBuffer);
  }
  int linger=JiveGlobals.getIntProperty("xmpp.socket.linger",-1);
  if (linger > 0) {
    socketSessionConfig.setSoLinger(linger);
  }
  socketSessionConfig.setTcpNoDelay(JiveGlobals.getBooleanProperty("xmpp.socket.tcp-nodelay",socketSessionConfig.isTcpNoDelay()));
  if (JMXManager.isEnabled()) {
    configureJMX(socketAcceptor,name);
  }
  return socketAcceptor;
}
