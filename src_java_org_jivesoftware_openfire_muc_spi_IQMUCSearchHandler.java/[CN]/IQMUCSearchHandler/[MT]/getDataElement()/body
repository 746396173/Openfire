{
  final XDataFormImpl searchForm=new XDataFormImpl(DataForm.TYPE_FORM);
  searchForm.setTitle("Chat Rooms Search");
  searchForm.addInstruction("instrunctions");
  final FormField typeFF=new XFormFieldImpl("FORM_TYPE");
  typeFF.setType(FormField.TYPE_HIDDEN);
  typeFF.addValue("jabber:iq:search");
  searchForm.addField(typeFF);
  final FormField nameFF=new XFormFieldImpl("name");
  nameFF.setType(FormField.TYPE_TEXT_SINGLE);
  nameFF.setLabel("Name");
  nameFF.setRequired(false);
  searchForm.addField(nameFF);
  final FormField matchFF=new XFormFieldImpl("name_is_exact_match");
  matchFF.setType(FormField.TYPE_BOOLEAN);
  matchFF.setLabel("Name must match exactly");
  matchFF.setRequired(false);
  searchForm.addField(matchFF);
  final FormField subjectFF=new XFormFieldImpl("subject");
  subjectFF.setType(FormField.TYPE_TEXT_SINGLE);
  subjectFF.setLabel("Subject");
  subjectFF.setRequired(false);
  searchForm.addField(subjectFF);
  final FormField userAmountFF=new XFormFieldImpl("num_users");
  userAmountFF.setType(FormField.TYPE_TEXT_SINGLE);
  userAmountFF.setLabel("Number of users");
  userAmountFF.setRequired(false);
  searchForm.addField(userAmountFF);
  final FormField maxUsersFF=new XFormFieldImpl("num_max_users");
  maxUsersFF.setType(FormField.TYPE_TEXT_SINGLE);
  maxUsersFF.setLabel("Max number allowed of users");
  maxUsersFF.setRequired(false);
  searchForm.addField(maxUsersFF);
  final FormField includePasswordProtectedFF=new XFormFieldImpl("include_password_protected");
  includePasswordProtectedFF.setType(FormField.TYPE_BOOLEAN);
  includePasswordProtectedFF.setLabel("Include password protected rooms");
  includePasswordProtectedFF.setRequired(false);
  searchForm.addField(includePasswordProtectedFF);
  final Element probeResult=DocumentHelper.createElement(QName.get("query","jabber:iq:search"));
  probeResult.add(searchForm.asXMLElement());
  return probeResult;
}
