{
  final DataForm searchForm=new DataForm(DataForm.Type.form);
  searchForm.setTitle("Chat Rooms Search");
  searchForm.addInstruction("Instructions");
  final FormField typeFF=searchForm.addField();
  typeFF.setVariable("FORM_TYPE");
  typeFF.setType(FormField.Type.hidden);
  typeFF.addValue("jabber:iq:search");
  final FormField nameFF=searchForm.addField();
  nameFF.setVariable("name");
  nameFF.setType(FormField.Type.text_single);
  nameFF.setLabel("Name");
  nameFF.setRequired(false);
  final FormField matchFF=searchForm.addField();
  matchFF.setVariable("name_is_exact_match");
  matchFF.setType(FormField.Type.boolean_type);
  matchFF.setLabel("Name must match exactly");
  matchFF.setRequired(false);
  final FormField subjectFF=searchForm.addField();
  subjectFF.setVariable("subject");
  subjectFF.setType(FormField.Type.text_single);
  subjectFF.setLabel("Subject");
  subjectFF.setRequired(false);
  final FormField userAmountFF=searchForm.addField();
  userAmountFF.setVariable("num_users");
  userAmountFF.setType(FormField.Type.text_single);
  userAmountFF.setLabel("Number of users");
  userAmountFF.setRequired(false);
  final FormField maxUsersFF=searchForm.addField();
  maxUsersFF.setVariable("num_max_users");
  maxUsersFF.setType(FormField.Type.text_single);
  maxUsersFF.setLabel("Max number allowed of users");
  maxUsersFF.setRequired(false);
  final FormField includePasswordProtectedFF=searchForm.addField();
  includePasswordProtectedFF.setVariable("include_password_protected");
  includePasswordProtectedFF.setType(FormField.Type.boolean_type);
  includePasswordProtectedFF.setLabel("Include password protected rooms");
  includePasswordProtectedFF.setRequired(false);
  final Element probeResult=DocumentHelper.createElement(QName.get("query","jabber:iq:search"));
  probeResult.add(searchForm.getElement());
  return probeResult;
}
