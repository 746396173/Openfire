{
  JiveGlobals.migrateProperty("xmpp.httpbind.worker.threads");
  JiveGlobals.migrateProperty("xmpp.httpbind.worker.timeout");
  this.sessionManager=SessionManager.getInstance();
  int maxPoolSize=JiveGlobals.getIntProperty("xmpp.httpbind.worker.threads",JiveGlobals.getIntProperty("xmpp.client.processing.threads",8));
  int keepAlive=JiveGlobals.getIntProperty("xmpp.httpbind.worker.timeout",60);
  sendPacketPool=new ThreadPoolExecutor(getCorePoolSize(maxPoolSize),maxPoolSize,keepAlive,TimeUnit.SECONDS,new LinkedBlockingQueue<Runnable>(),new ThreadFactory(){
    final AtomicInteger counter=new AtomicInteger(1);
    public Thread newThread(    Runnable runnable){
      Thread thread=new Thread(Thread.currentThread().getThreadGroup(),runnable,"httpbind-worker-" + counter.getAndIncrement());
      thread.setDaemon(true);
      return thread;
    }
  }
);
}
