{
  Integer num=Integer.valueOf(sequenceNumber.intValue() - lastSequenceNumber.intValue());
  if (num.intValue() < -32768)   return Integer.valueOf(num.intValue() + 65535);
  if (num.intValue() > 32768)   num=Integer.valueOf(num.intValue() - 65535);
  return num;
}
