@memoize
def InvertRelativePath(path, toplevel_dir=None):
    'Given a path like foo/bar that is relative to toplevel_dir, return\n  the inverse relative path back to the toplevel_dir.\n\n  E.g. os.path.normpath(os.path.join(path, InvertRelativePath(path)))\n  should always produce the empty string, unless the path contains symlinks.\n  '
    if (not path):
        return path
    toplevel_dir = ('.' if (toplevel_dir is None) else toplevel_dir)
    return RelativePath(toplevel_dir, os.path.join(toplevel_dir, path))
