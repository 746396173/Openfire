def GetFlavor(params):
    "Returns |params.flavor| if it's set, the system's default flavor else."
    flavors = {'cygwin': 'win', 'win32': 'win', 'darwin': 'mac', }
    if ('flavor' in params):
        return params['flavor']
    if (sys.platform in flavors):
        return flavors[sys.platform]
    if sys.platform.startswith('sunos'):
        return 'solaris'
    if sys.platform.startswith('freebsd'):
        return 'freebsd'
    if sys.platform.startswith('openbsd'):
        return 'openbsd'
    if sys.platform.startswith('aix'):
        return 'aix'
    return 'linux'
