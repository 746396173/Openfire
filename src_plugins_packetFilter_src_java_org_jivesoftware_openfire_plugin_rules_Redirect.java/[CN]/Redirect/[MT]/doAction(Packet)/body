{
  Message newPacket=null;
  if (packet instanceof Message) {
    if (getDestType().equals(Rule.SourceDestType.Group.toString())) {
      Group sendGroup=PacketFilterUtil.getGroup(getDestination());
      ClientSession clientSession;
      for (      JID jid : sendGroup.getMembers()) {
        newPacket=(Message)packet.createCopy();
        newPacket.setTo(jid);
        sendPacket(newPacket);
      }
    }
 else {
      JID jid=new JID(getDestination());
      newPacket=(Message)packet.createCopy();
      newPacket.setFrom("test@machintosh.local");
      newPacket.setTo(jid);
      sendPacket(newPacket);
    }
    if (doLog()) {
      Log.info("Redirecting from " + packet.getFrom() + " to "+ packet.getTo());
    }
  }
  throw new PacketRejectedException();
}
