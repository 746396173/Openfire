{
  try {
    yahooSession.logout();
  }
 catch (  IOException e) {
    Log.debug("Failed to log out from Yahoo.");
  }
  yahooSession.reset();
  loggedIn=false;
  loggingIn=false;
  loginAttempts=0;
  Presence p=new Presence(Presence.Type.unavailable);
  p.setTo(registration.getJID());
  p.setFrom(getTransport().getJID());
  getTransport().sendPacket(p);
}
