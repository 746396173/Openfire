{
  if (groups.size() == 0) {
    groups.add("Transport Buddies");
  }
  HashMap<String,YahooGroup> yahooGroups=new HashMap<String,YahooGroup>();
  for (  YahooGroup yahooGroup : yahooSession.getGroups()) {
    yahooGroups.put(yahooGroup.getName(),yahooGroup);
  }
  for (  String group : groups) {
    if (!yahooGroups.containsKey(group)) {
      try {
        Log.debug("Yahoo: Adding contact " + contact + " to non-existent group "+ group);
        yahooSession.addFriend(contact,group);
      }
 catch (      IOException e) {
        Log.error("Error while syncing Yahoo groups.");
      }
    }
  }
  for (  YahooGroup yahooGroup : yahooSession.getGroups()) {
    if (groups.contains(yahooGroup.getName())) {
      if (yahooGroup.getIndexOfFriend(contact) == -1) {
        try {
          Log.debug("Yahoo: Adding contact " + contact + " to existing group "+ yahooGroup.getName());
          yahooSession.addFriend(contact,yahooGroup.getName());
        }
 catch (        IOException e) {
          Log.error("Error while syncing Yahoo groups.");
        }
      }
    }
 else {
      if (yahooGroup.getIndexOfFriend(contact) != -1) {
        try {
          Log.debug("Yahoo: Removing contact " + contact + " from group "+ yahooGroup.getName());
          yahooSession.removeFriend(contact,yahooGroup.getName());
        }
 catch (        IOException e) {
          Log.error("Error while syncing Yahoo groups.");
        }
      }
    }
  }
}
