{
  IQ myPacket=(IQ)packet;
  String to=myPacket.getTo().toString();
  String username=getUsernameFromJid(to);
  List<Node> nodes=findNodesInDocument(myPacket.getElement().getDocument(),"//roster:item");
  for (  Node n : nodes) {
    Roster roster;
    try {
      roster=_rosterManager.getRoster(username);
      String jid=n.valueOf("@jid");
      String name=n.valueOf("@name");
      if (jid.equals(myPacket.getFrom().toString())) {
        break;
      }
      List<String> grouplist=new ArrayList<String>();
      List<Node> groupnodes=findNodesInDocument(n.getDocument(),"//roster:group");
      for (      Node ne : groupnodes) {
        String groupName=ne.getText();
        grouplist.add(groupName);
      }
      boolean rosterPersisten=JiveGlobals.getBooleanProperty("plugin.remoteroster.persistent",true);
      RosterItem item=roster.createRosterItem(new JID(jid),name,grouplist,false,rosterPersisten);
      item.setSubStatus(RosterItem.SUB_BOTH);
      roster.updateRosterItem(item);
    }
 catch (    Exception e) {
      e.printStackTrace();
      System.out.println("Exception beim hinzufuegen eines Konaktes!");
    }
  }
}
