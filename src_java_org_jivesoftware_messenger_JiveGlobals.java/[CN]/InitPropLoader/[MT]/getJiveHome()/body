{
  String jiveHome=null;
  InputStream in=null;
  try {
    in=getClass().getResourceAsStream("/messenger_init.xml");
    if (in != null) {
      Document doc=XPPReader.parseDocument(new InputStreamReader(in),this.getClass());
      jiveHome=doc.getRootElement().getText();
    }
  }
 catch (  Exception e) {
    Log.error("Error loading messenger_init.xml to find jiveHome.",e);
  }
 finally {
    try {
      if (in != null) {
        in.close();
      }
    }
 catch (    Exception e) {
    }
  }
  if (jiveHome != null) {
    jiveHome=jiveHome.trim();
    while (jiveHome.endsWith("/") || jiveHome.endsWith("\\")) {
      jiveHome=jiveHome.substring(0,jiveHome.length() - 1);
    }
  }
  if ("".equals(jiveHome)) {
    jiveHome=null;
  }
  return jiveHome;
}
