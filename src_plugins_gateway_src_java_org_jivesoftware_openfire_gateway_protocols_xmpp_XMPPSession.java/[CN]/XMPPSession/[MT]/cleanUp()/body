{
  conn.removeConnectionListener(listener);
  conn.getRoster().removeRosterListener(listener);
  conn.getChatManager().removeChatListener(listener);
  conn.disconnect();
}
