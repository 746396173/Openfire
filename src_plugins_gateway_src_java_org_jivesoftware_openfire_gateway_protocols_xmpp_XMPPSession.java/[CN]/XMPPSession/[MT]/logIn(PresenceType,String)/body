{
  if (!this.isLoggedIn()) {
    setLoginStatus(TransportLoginStatus.LOGGING_IN);
    new Thread(){
      public void run(){
        try {
          conn=new XMPPConnection(config);
          conn.connect();
          conn.addConnectionListener(listener);
          conn.login(getRegistration().getUsername(),getRegistration().getPassword(),"IMGateway");
          conn.getRoster().addRosterListener(listener);
          conn.getChatManager().addChatListener(listener);
        }
 catch (        XMPPException e) {
          Log.error(getTransport().getType() + " user is not able to log in: " + getRegistration().getUsername(),e);
        }
      }
    }
.start();
  }
}
