{
  if (mode == Presence.Mode.away) {
    return PresenceType.away;
  }
 else   if (mode == Presence.Mode.dnd) {
    return PresenceType.dnd;
  }
 else   if (mode == Presence.Mode.xa) {
    return PresenceType.xa;
  }
 else   if (mode == Presence.Mode.chat) {
    return PresenceType.chat;
  }
 else   if (type == Presence.Type.unavailable) {
    return PresenceType.unavailable;
  }
 else   if (type == Presence.Type.error) {
    return PresenceType.unavailable;
  }
 else {
    return PresenceType.available;
  }
}
