{
  if (thread == null) {
    String className=getClass().getName();
    thread=new Thread(this,className);
    thread.setDaemon(true);
    boolean started=false;
    try {
      thread.start();
      started=true;
    }
  finally {
      this.started=started;
      if (!started) {
        thread=null;
        notifyAll();
        throw new IOException("Failed to start " + className);
      }
    }
  }
}
