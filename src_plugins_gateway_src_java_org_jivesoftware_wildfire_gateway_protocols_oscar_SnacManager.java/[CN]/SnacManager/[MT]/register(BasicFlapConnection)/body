{
  int[] families=conn.getSnacFamilies();
  supportedFamilies.put(conn,families);
  for (int i=0; i < families.length; i++) {
    int familyCode=families[i];
    Integer family=new Integer(familyCode);
    List handlers=(List)conns.get(family);
    if (handlers == null) {
      handlers=new LinkedList();
      conns.put(family,handlers);
    }
    if (!handlers.contains(conn))     handlers.add(conn);
  }
}
