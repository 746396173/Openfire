{
  try {
    System.setProperty("org.apache.commons.logging.LogFactory","org.mortbay.log.Factory");
    File logDir=new File(JiveGlobals.getMessengerHome(),"logs");
    if (!logDir.exists()) {
      logDir.mkdirs();
    }
    File logFile=new File(logDir,"admin-console.log");
    OutputStreamLogSink logSink=new OutputStreamLogSink(logFile.toString());
    logSink.start();
    LogImpl log=(LogImpl)Factory.getFactory().getInstance("");
    log.setVerbose(-1);
    log.add(logSink);
    jetty=new Server();
    port=JiveGlobals.getProperty("embedded-web.port","9090");
    jetty.addListener(port);
    this.serverContainer=container;
    webAppContext=jetty.addWebApplication("/",JiveGlobals.getMessengerHome() + File.separator + "plugins"+ File.separator+ "admin"+ File.separator+ "webapp");
    webAppContext.setWelcomeFiles(new String[]{"index.jsp"});
  }
 catch (  Exception e) {
    Log.error("Trouble initializing Jetty",e);
  }
}
