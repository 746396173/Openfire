{
  XMPPAddress recipient=item.getJid();
  roster.deleteRosterItem(item.getJid());
  if (localServer.isLocal(recipient)) {
    try {
      CachedRoster recipientRoster=userManager.getUser(recipient.getName()).getRoster();
      recipientRoster.deleteRosterItem(sender);
    }
 catch (    UserNotFoundException e) {
      try {
        ChannelHandler route=routingTable.getRoute(recipient);
        if (route instanceof Chatbot) {
          route.process(packet);
        }
      }
 catch (      NoSuchRouteException e1) {
        throw new UserNotFoundException();
      }
    }
  }
 else {
    XMPPPacket removePacket=createRemoveForward(sender,recipient);
    transporter.deliver(removePacket);
  }
}
