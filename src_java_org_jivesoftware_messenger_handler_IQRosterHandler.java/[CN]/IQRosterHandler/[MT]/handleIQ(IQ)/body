{
  try {
    IQ returnPacket=null;
    org.xmpp.packet.Roster roster=(org.xmpp.packet.Roster)packet;
    JID recipientJID=packet.getTo();
    if (recipientJID == null || recipientJID.getNode() == null) {
      returnPacket=manageRoster(roster);
    }
 else {
      removeRosterItem(roster);
    }
    return returnPacket;
  }
 catch (  SharedGroupException e) {
    IQ result=IQ.createResultIQ(packet);
    result.setChildElement(packet.getChildElement().createCopy());
    result.setError(PacketError.Condition.not_acceptable);
    return result;
  }
catch (  Exception e) {
    Log.error(LocaleUtils.getLocalizedString("admin.error"),e);
  }
  return null;
}
