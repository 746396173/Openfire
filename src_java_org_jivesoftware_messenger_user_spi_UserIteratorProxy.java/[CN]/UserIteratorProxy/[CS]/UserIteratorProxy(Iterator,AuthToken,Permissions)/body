{
  this.iterator=iterator;
  this.auth=auth;
  this.permissions=permissions;
  proxyFactory=new ProxyFactory(){
    public Object createProxy(    Object obj,    AuthToken auth,    Permissions perms){
      User user=(User)obj;
      Permissions userPerms=user.getPermissions(auth);
      Permissions newPerms=new Permissions(userPerms,perms);
      return new UserProxy(user,auth,newPerms);
    }
  }
;
}
