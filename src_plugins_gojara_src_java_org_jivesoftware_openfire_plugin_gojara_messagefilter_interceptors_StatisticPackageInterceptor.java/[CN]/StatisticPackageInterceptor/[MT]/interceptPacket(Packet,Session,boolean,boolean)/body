{
  try {
    JID from=packet.getFrom();
    JID to=packet.getTo();
    if (from != null && to != null && processed && incoming) {
      if (from.toString().contains(_subdomain) || to.toString().contains(_subdomain)) {
        if (to.toString().equals(from.toString()) && to.toString().equals(_subdomain))         return;
        String type=packet.getClass().getName();
        _db.addNewLogEntry(_subdomain,type,from.toString(),to.toString());
      }
    }
  }
 catch (  IllegalArgumentException e) {
  }
}
