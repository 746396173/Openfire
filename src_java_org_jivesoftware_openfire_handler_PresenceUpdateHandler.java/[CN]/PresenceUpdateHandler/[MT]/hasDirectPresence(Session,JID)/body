{
  Collection<DirectedPresence> directedPresences=directedPresencesCache.get(session.getAddress().toString());
  if (directedPresences != null) {
    String recipient=recipientJID.toBareJID();
    for (    DirectedPresence directedPresence : directedPresences) {
      for (      String receiver : directedPresence.getReceivers()) {
        if (receiver.contains(recipient)) {
          return true;
        }
      }
    }
  }
  return false;
}
