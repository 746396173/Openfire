{
  chatManager=SparkManager.getChatManager();
  server=SparkManager.getSessionManager().getServerAddress();
  url=protocol + "://" + server+ ":"+ port+ "/jitsi/apps/ofmeet/?";
  Properties props=new Properties();
  if (pluginsettings.exists()) {
    Log.warning("JitsiVideobridge-Info: Properties-file does exist= " + pluginsettings.getPath());
    try {
      props.load(new FileInputStream(pluginsettings));
      if (props.getProperty("port") != null) {
        port=props.getProperty("port");
        Log.warning("JitsiVideobridge-Info: JitsiVideobridge-port from properties-file is= " + port);
      }
      if (props.getProperty("protocol") != null) {
        protocol=props.getProperty("protocol");
        Log.warning("JitsiVideobridge-Info: JitsiVideobridge-protocol from properties-file is= " + protocol);
      }
      if (props.getProperty("server") != null) {
        server=props.getProperty("server");
        Log.warning("JitsiVideobridge-Info: JitsiVideobridge-server from properties-file is= " + server);
      }
      url=protocol + "://" + server+ ":"+ port+ "/jitsi/apps/ofmeet/?";
    }
 catch (    IOException ioe) {
      System.err.println(ioe);
    }
  }
 else {
    Log.warning("JitsiVideobridge-Error: Properties-file does not exist= " + pluginsettings.getPath() + ", using default "+ url);
  }
  chatManager.addChatRoomListener(this);
}
