{
  if (packet == null) {
    throw new PacketException("Packet was null");
  }
  if (deliverHandler == null) {
    throw new PacketException("Could not send packet - no route" + packet.toString());
  }
  JID recipient=packet.getTo();
  if (recipient != null && recipient.getNode() == null && recipient.getResource() == null) {
    Component component=componentManager.getComponent(recipient);
    if (component != null) {
      component.processPacket(packet);
      return;
    }
  }
  deliverHandler.process(packet);
}
