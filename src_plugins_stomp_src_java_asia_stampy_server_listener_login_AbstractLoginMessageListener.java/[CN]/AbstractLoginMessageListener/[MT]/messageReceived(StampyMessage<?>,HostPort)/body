{
switch (message.getMessageType()) {
case ABORT:
case ACK:
case BEGIN:
case COMMIT:
case NACK:
case SEND:
case SUBSCRIBE:
case UNSUBSCRIBE:
    loggedInCheck(message,hostPort);
  break;
case CONNECT:
logIn(hostPort,((ConnectMessage)message).getHeader());
break;
case STOMP:
logIn(hostPort,((StompMessage)message).getHeader());
break;
case DISCONNECT:
loggedInConnections.remove(hostPort);
break;
default :
String error="Unexpected message type " + message.getMessageType();
log.error(error);
throw new IllegalArgumentException(error);
}
}
