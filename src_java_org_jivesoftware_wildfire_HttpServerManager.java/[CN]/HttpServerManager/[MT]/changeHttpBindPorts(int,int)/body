{
  if (unsecurePort < 0 && securePort < 0) {
    throw new IllegalArgumentException("At least one port must be greater than zero.");
  }
  if (unsecurePort == securePort) {
    throw new IllegalArgumentException("Ports must be distinct.");
  }
  int adminPort=JiveGlobals.getXMLProperty(ADMIN_CONSOLE_PORT,ADMIN_CONSOLE_PORT_DEFAULT);
  int adminSecurePort=JiveGlobals.getXMLProperty(ADMIN_CONOSLE_SECURE_PORT,ADMIN_CONSOLE_SECURE_PORT_DEFAULT);
  if (checkPorts(new int[]{unsecurePort,securePort},new int[]{adminPort,adminSecurePort})) {
    if (unsecurePort != adminPort || securePort != adminSecurePort) {
      Log.warn("HTTP bind ports must be either the same or distinct from admin console" + " ports, http binding will run on the admin console ports.");
    }
    if (httpBindServer == adminServer) {
      return;
    }
    if (httpBindServer != null) {
      try {
        httpBindServer.stop();
      }
 catch (      Exception e) {
        Log.error("Error stopping HTTP bind service",e);
      }
      httpBindServer=null;
    }
    httpBindServer=adminServer;
    addContexts();
    return;
  }
  if (httpBindServer != adminServer) {
    try {
      httpBindServer.stop();
    }
 catch (    Exception e) {
      Log.error("Error stopping HTTP bind service",e);
    }
  }
  startHttpBindServer(unsecurePort,securePort);
  addContexts();
  try {
    httpBindServer.start();
  }
 catch (  Exception e) {
    Log.error("Error starting HTTP bind service",e);
  }
}
