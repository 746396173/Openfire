{
  super(registration,jid,transport,priority);
  pseudoRoster=pseudoRosterManager.getPseudoRoster(registration);
  for (  String contact : pseudoRoster.getContacts()) {
    buddyStatuses.put(contact,PresenceType.unavailable);
  }
  String server=JiveGlobals.getProperty("plugin.gateway.irc.connecthost","irc.freenode.net");
  int[] ports=new int[]{JiveGlobals.getIntProperty("plugin.gateway.irc.connectport",7000)};
  String username=registration.getUsername();
  String password=registration.getPassword();
  password=(password == null || password.equals("")) ? null : password;
  String nickname=registration.getNickname();
  conn=new IRCConnection(server,ports,password,nickname,username,"Wildfire User");
  conn.setPong(true);
  conn.setDaemon(false);
  conn.setColors(false);
  ircListener=new IRCListener(this);
  conn.addIRCEventListener(ircListener);
}
