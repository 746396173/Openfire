{
synchronized (subscriptions) {
    if (subscriptions.get(user) == null) {
      subscriptions.put(user,new LinkedList<SipSubscription>());
    }
    subscriptions.get(user).add(subscription);
    subscription.schedule();
    try {
      saveSubscription(subscription);
    }
 catch (    IOException e) {
      Log.error("Error persisting new subscription",e);
    }
catch (    SAXException e) {
      Log.error("Error persisting new subscription",e);
    }
  }
}
