{
  Log.debug("Processing packet in SendRosterProcessor for " + _componentName);
  IQ myPacket=(IQ)packet;
  String user=myPacket.getTo().toString();
  String username=getUsernameFromJid(user);
  Roster roster;
  if (JiveGlobals.getBooleanProperty("plugin.remoteroster.persistent",false)) {
    try {
      roster=_rosterManager.getRoster(username);
      Collection<RosterItem> items=roster.getRosterItems();
      sendRosterToComponent(myPacket,items);
    }
 catch (    UserNotFoundException e) {
      e.printStackTrace();
    }
  }
 else {
    sendEmptyRoster(myPacket);
  }
}
